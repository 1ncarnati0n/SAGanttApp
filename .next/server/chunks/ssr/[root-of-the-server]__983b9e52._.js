module.exports=[36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},62067,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border border-primary-200 bg-white text-primary-900 shadow-sm dark:border-primary-800 dark:bg-primary-900 dark:text-primary-100",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-primary-500 dark:text-primary-400",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},94988,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-10 w-full rounded-md border border-primary-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-primary-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-primary-800 dark:bg-primary-950 dark:ring-offset-primary-950 dark:placeholder:text-primary-600 dark:focus-visible:ring-accent-500",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},10826,3715,66658,a=>{"use strict";function b(a){if(null!=a){if("number"==typeof a&&Number.isFinite(a)){let b=new Date(a);return Number.isNaN(b.getTime())?void 0:b.toISOString().split("T")[0]}if("string"==typeof a){let b=a.trim();if(!b.length)return;let c=new Date(b);return Number.isNaN(c.getTime())?void 0:c.toISOString().split("T")[0]}if(a instanceof Date)return Number.isNaN(a.getTime())?void 0:a.toISOString().split("T")[0]}}function c(a){if(a||0===a){if(a instanceof Date)return Number.isNaN(a.getTime())?void 0:a;if("string"==typeof a){let b=a.trim();if(!b.length)return;let c=b.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(c){let[,a,b,d]=c,e=Number(a),f=Number(b)-1,g=Number(d);if(Number.isInteger(e)&&Number.isInteger(f)&&Number.isInteger(g)){let a=new Date(e,f,g);return Number.isNaN(a.getTime())?void 0:a}}let d=new Date(b);return Number.isNaN(d.getTime())?void 0:d}if("number"==typeof a){let b=new Date(a);return Number.isNaN(b.getTime())?void 0:b}}}function d(a,b=!1){let e;if(!a)return"";let f="string"==typeof a?c(a):a;if(!f)return"";let g=b?((e=new Date(f)).setDate(e.getDate()+-1),e):f;return new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).format(g)}a.s(["formatDisplayDate",()=>d,"toDateOrUndefined",()=>c,"toIsoDate",()=>b],3715);let e={urgent:{bar:"#f49a82",progress:"#f45e36"},narrow:{bar:"#676a81",progress:"#1a2630"},progress:{bar:"#00bcd4",progress:"#00bcd4"},round:{bar:"#10b981",progress:"#6ee7b7"}};function f(a){let b={...a},d=c(b.start);d&&(b.start=new Date(d));let f=c(b.end);f&&(b.end=new Date(f));let g=c(b.base_start);g&&(b.base_start=new Date(g));let h=c(b.base_end);h&&(b.base_end=new Date(h)),"milestone"===b.type&&(b.duration=0,delete b.end);let i=e["string"==typeof b.type?b.type:""];return i&&(b.color=i.bar,b.progressColor=i.progress),b}a.s(["decorateTask",()=>f],66658),a.s([],10826)},24458,a=>{"use strict";function b(){return[]}function c(a){return[].find(b=>b.id===a)||null}function d(a){let b={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,...a,status:a.status||"planning",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:"mock-user-id"};return[].push(b),b}function e(a,b){let c=[],d=c.findIndex(b=>b.id===a);if(-1===d)throw Error("Project not found");return c[d]={...c[d],...b,updated_at:new Date().toISOString()},c[d]}function f(a){[].filter(b=>b.id!==a)}function g(a){return[]}function h(a){return null}function i(a){throw Error("Not in browser")}function j(a,b){throw Error("Not in browser")}function k(a){}function l(a){return[]}function m(a){return[]}a.s(["createMockGanttChart",()=>i,"createMockProject",()=>d,"deleteMockGanttChart",()=>k,"deleteMockProject",()=>f,"getMockGanttChart",()=>h,"getMockGanttCharts",()=>g,"getMockLinks",()=>m,"getMockProject",()=>c,"getMockProjects",()=>b,"getMockTasks",()=>l,"updateMockGanttChart",()=>j,"updateMockProject",()=>e])},64796,a=>{"use strict";var b=a.i(95445),c=a.i(24458);let d="true"===process.env.NEXT_PUBLIC_USE_MOCK;async function e(a){if(d)return(0,c.getMockGanttCharts)(a);let e=(0,b.createClient)(),{data:f,error:g}=await e.from("gantt_charts").select("*").eq("project_id",a).order("created_at",{ascending:!1});return g?(console.error("Error fetching Gantt charts:",g),(0,c.getMockGanttCharts)(a)):f}async function f(a){if(d)return(0,c.getMockGanttChart)(a);let e=(0,b.createClient)(),{data:f,error:g}=await e.from("gantt_charts").select("*").eq("id",a).single();return g?("PGRST116"===g.code||console.error("Error fetching Gantt chart:",g),(0,c.getMockGanttChart)(a)):f}async function g(a){if(d)return(0,c.createMockGanttChart)(a);let e=(0,b.createClient)(),{data:f,error:g}=await e.from("gantt_charts").insert(a).select().single();return g?(console.error("Error creating Gantt chart:",g),(0,c.createMockGanttChart)(a)):f}a.s(["createGanttChart",()=>g,"getGanttChart",()=>f,"getGanttCharts",()=>e])},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},2434,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(62067),g=a.i(96438),h=a.i(41675);let i=(0,a.i(70106).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var j=a.i(79360);a.i(10826);var k=a.i(3715);function l({chart:a}){return(0,b.jsxs)(f.Card,{className:"card-hover transition-all duration-200",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(f.CardTitle,{className:"text-xl mb-1",children:(0,b.jsx)(e.default,{href:`/gantt/${a.id}`,className:"hover:text-accent-600 dark:hover:text-accent-400 transition-colors",children:a.name})}),(0,b.jsx)(f.CardDescription,{className:"line-clamp-2",children:a.description||"설명이 없습니다."})]}),(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0",children:(0,b.jsx)(j.MoreVertical,{className:"h-4 w-4"})})]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center text-sm text-primary-600 dark:text-primary-400",children:[(0,b.jsx)(h.Calendar,{className:"h-4 w-4 mr-2"}),(0,b.jsxs)("span",{children:[(0,k.formatDisplayDate)(a.start_date),a.end_date&&` ~ ${(0,k.formatDisplayDate)(a.end_date)}`]})]}),(0,b.jsxs)("div",{className:"text-xs text-primary-500 dark:text-primary-500",children:["생성일: ",new Date(a.created_at).toLocaleDateString("ko-KR")]}),(0,b.jsx)("div",{className:"flex items-center gap-2 pt-2 border-t border-primary-200 dark:border-primary-800",children:(0,b.jsx)(e.default,{href:`/gantt/${a.id}`,className:"flex-1",children:(0,b.jsxs)(g.Button,{variant:"primary",size:"sm",className:"w-full",children:[(0,b.jsx)(i,{className:"h-4 w-4 mr-2"}),"열기"]})})})]})})]})}var m=a.i(64796),n=a.i(39761);function o({projectId:a}){let[d,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(null);return((0,c.useEffect)(()=>{!async function(){try{g(!0);let b=await (0,m.getGanttCharts)(a);e(b),i(null)}catch(a){console.error("Failed to load Gantt charts:",a),i("Gantt 차트를 불러오는 데 실패했습니다.")}finally{g(!1)}}()},[a]),f)?(0,b.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,b.jsx)("div",{className:"spinner"}),(0,b.jsx)("span",{className:"ml-3 text-primary-600",children:"차트 로딩 중..."})]}):h?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[(0,b.jsxs)("div",{className:"text-error-600 mb-4",children:["⚠️ ",h]}),(0,b.jsx)("button",{onClick:()=>window.location.reload(),className:"btn btn-primary",children:"다시 시도"})]}):0===d.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center border-2 border-dashed border-primary-300 dark:border-primary-700 rounded-lg",children:[(0,b.jsx)(n.BarChart3,{className:"h-16 w-16 text-primary-400 mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-primary-900 dark:text-primary-100 mb-2",children:"Gantt 차트가 없습니다"}),(0,b.jsx)("p",{className:"text-primary-600 dark:text-primary-400 mb-4",children:"새 Gantt 차트를 생성하여 프로젝트를 관리하세요"})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(a=>(0,b.jsx)(l,{chart:a},a.id))})}var p=a.i(95245),q=a.i(59501),r=a.i(56757),s=a.i(94988),t=a.i(33508),u=a.i(23292);let v=r.z.object({name:r.z.string().min(1,"Gantt 차트 이름을 입력하세요").max(100,"이름이 너무 깁니다"),description:r.z.string().max(500,"설명이 너무 깁니다").optional(),start_date:r.z.string().min(1,"시작일을 선택하세요"),end_date:r.z.string().optional()});function w({projectId:a,isOpen:d,onClose:e,onSuccess:f}){let[h,i]=(0,c.useState)(!1),{register:j,handleSubmit:k,formState:{errors:l},reset:n}=(0,p.useForm)({resolver:(0,q.zodResolver)(v),defaultValues:{name:"",description:"",start_date:new Date().toISOString().split("T")[0],end_date:""}}),o=async b=>{try{i(!0);let c={project_id:a,name:b.name,description:b.description||void 0,start_date:b.start_date,end_date:b.end_date||void 0};await (0,m.createGanttChart)(c),u.toast.success("Gantt 차트가 생성되었습니다"),n(),f(),e()}catch(a){console.error("Failed to create Gantt chart:",a),u.toast.error("Gantt 차트 생성 실패")}finally{i(!1)}};return d?(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),(0,b.jsxs)("div",{className:"relative bg-white dark:bg-primary-900 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-primary-200 dark:border-primary-800",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-primary-900 dark:text-primary-100",children:"새 Gantt 차트"}),(0,b.jsx)("button",{onClick:e,className:"text-primary-500 hover:text-primary-700 dark:hover:text-primary-300",children:(0,b.jsx)(t.X,{className:"h-6 w-6"})})]}),(0,b.jsxs)("form",{onSubmit:k(o),className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-2",children:"Gantt 차트 이름 *"}),(0,b.jsx)(s.Input,{...j("name"),placeholder:"예: 건설 공정 일정표"}),l.name&&(0,b.jsx)("p",{className:"mt-1 text-sm text-error-600",children:l.name.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-2",children:"설명"}),(0,b.jsx)("textarea",{...j("description"),rows:3,className:"flex w-full rounded-md border border-primary-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-primary-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-primary-800 dark:bg-primary-950 dark:ring-offset-primary-950 dark:placeholder:text-primary-400 dark:focus-visible:ring-primary-300",placeholder:"Gantt 차트 설명을 입력하세요"}),l.description&&(0,b.jsx)("p",{className:"mt-1 text-sm text-error-600",children:l.description.message})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-2",children:"시작일 *"}),(0,b.jsx)(s.Input,{type:"date",...j("start_date")}),l.start_date&&(0,b.jsx)("p",{className:"mt-1 text-sm text-error-600",children:l.start_date.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-primary-700 dark:text-primary-300 mb-2",children:"종료일"}),(0,b.jsx)(s.Input,{type:"date",...j("end_date")}),l.end_date&&(0,b.jsx)("p",{className:"mt-1 text-sm text-error-600",children:l.end_date.message})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 pt-4",children:[(0,b.jsx)(g.Button,{type:"button",variant:"outline",onClick:e,className:"flex-1",disabled:h,children:"취소"}),(0,b.jsx)(g.Button,{type:"submit",variant:"primary",className:"flex-1",loading:h,disabled:h,children:"생성"})]})]})]})]}):null}var x=a.i(210),y=a.i(15618),z=a.i(97409);function A({params:a}){let{id:f}=(0,c.use)(a),h=(0,d.useRouter)(),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(!1),[p,q]=(0,c.useState)(0);return((0,c.useEffect)(()=>{!async function(){try{let a=await (0,z.getProject)(f);if(!a){u.toast.error("프로젝트를 찾을 수 없습니다"),h.push("/dashboard");return}j(a)}catch(a){console.error("Failed to load project:",a),u.toast.error("프로젝트 로딩 실패")}finally{l(!1)}}()},[f,h]),k)?(0,b.jsxs)("div",{className:"flex items-center justify-center min-h-screen",children:[(0,b.jsx)("div",{className:"spinner"}),(0,b.jsx)("span",{className:"ml-3 text-primary-600",children:"프로젝트 로딩 중..."})]}):i?(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)(e.default,{href:"/dashboard",children:(0,b.jsxs)(g.Button,{variant:"ghost",size:"sm",children:[(0,b.jsx)(x.ArrowLeft,{className:"h-4 w-4 mr-2"}),"대시보드로 돌아가기"]})})}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-primary-900 dark:text-primary-100",children:i.name}),(0,b.jsx)("p",{className:"mt-2 text-primary-600 dark:text-primary-400",children:i.description||"설명이 없습니다."})]}),(0,b.jsxs)(g.Button,{variant:"primary",size:"lg",onClick:()=>n(!0),children:[(0,b.jsx)(y.Plus,{className:"h-5 w-5 mr-2"}),"새 Gantt 차트"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4 text-primary-900 dark:text-primary-100",children:"Gantt 차트 목록"}),(0,b.jsx)(c.Suspense,{fallback:(0,b.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,b.jsx)("div",{className:"spinner"}),(0,b.jsx)("span",{className:"ml-3 text-primary-600",children:"차트 로딩 중..."})]}),children:(0,b.jsx)(o,{projectId:f},p)})]}),(0,b.jsx)(w,{projectId:f,isOpen:m,onClose:()=>n(!1),onSuccess:()=>{q(a=>a+1)}})]}):null}a.s(["default",()=>A],2434)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__983b9e52._.js.map