module.exports=[33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},32245,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"BailoutToCSR",{enumerable:!0,get:function(){return e}});let d=a.r(41997);function e({reason:a,children:b}){throw Object.defineProperty(new d.BailoutToCSRError(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},7773,(a,b,c)=>{"use strict";function d(a){return a.split("/").map(a=>encodeURIComponent(a)).join("/")}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"encodeURIPath",{enumerable:!0,get:function(){return d}})},97458,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"PreloadChunks",{enumerable:!0,get:function(){return h}});let d=a.r(87924),e=a.r(35112),f=a.r(56704),g=a.r(7773);function h({moduleIds:a}){let b=f.workAsyncStorage.getStore();if(void 0===b)return null;let c=[];if(b.reactLoadableManifest&&a){let d=b.reactLoadableManifest;for(let b of a){if(!d[b])continue;let a=d[b].files;c.push(...a)}}return 0===c.length?null:(0,d.jsx)(d.Fragment,{children:c.map(a=>{let c=`${b.assetPrefix}/_next/${(0,g.encodeURIPath)(a)}`;return a.endsWith(".css")?(0,d.jsx)("link",{precedence:"dynamic",href:c,rel:"stylesheet",as:"style",nonce:b.nonce},a):((0,e.preload)(c,{as:"script",fetchPriority:"low",nonce:b.nonce}),null)})})}},69853,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return j}});let d=a.r(87924),e=a.r(72131),f=a.r(32245),g=a.r(97458);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},19721,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e}});let d=a.r(33354)._(a.r(69853));function e(a,b){let c={};"function"==typeof a&&(c.loader=a);let e={...c,...b};return(0,d.default)({...e,modules:e.loadableGenerated?.modules})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},95925,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246);let f=(0,a.i(19721).default)(async()=>{},{loadableGenerated:{modules:[77491]},ssr:!1,loading:()=>(0,b.jsx)("div",{className:"flex h-full items-center justify-center",children:"Loading Gantt Chart..."})});function g(){return(0,b.jsx)(f,{})}var h=a.i(96438),i=a.i(210);let j=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var k=a.i(64796),l=a.i(95445);a.i(10826);var m=a.i(66658),n=a.i(24458);let o="true"===process.env.NEXT_PUBLIC_USE_MOCK;async function p(a){if(o)return(0,n.getMockTasks)(a);let b=(0,l.createClient)(),{data:c,error:d}=await b.from("tasks").select("*").eq("gantt_chart_id",a).order("position",{ascending:!0});return d?(console.error("Error fetching tasks:",d),(0,n.getMockTasks)(a)):c.map(a=>{let b={id:a.id,text:a.text,type:a.type,start:a.start_date,end:a.end_date,progress:a.progress,parent:a.parent_id,position:a.position,open:a.open,assigned:a.assigned_to,category:a.category,workType:a.work_type};return(0,m.decorateTask)(b)})}let q="true"===process.env.NEXT_PUBLIC_USE_MOCK;async function r(a){if(q)return(0,n.getMockLinks)(a);let b=(0,l.createClient)(),{data:c,error:d}=await b.from("links").select("*").eq("gantt_chart_id",a);return d?(console.error("Error fetching links:",d),(0,n.getMockLinks)(a)):c.map(a=>({id:a.id,source:a.source_task_id,target:a.target_task_id,type:a.type}))}var s=a.i(23292);function t({params:a}){let{id:f}=(0,c.use)(a),l=(0,d.useRouter)(),[m,n]=(0,c.useState)(null),[o,q]=(0,c.useState)([]),[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)(!0),[x,y]=(0,c.useState)(!1);(0,c.useEffect)(()=>{!async function(){try{w(!0);let[a,b,c]=await Promise.all([(0,k.getGanttChart)(f),p(f),r(f)]);if(!a){s.toast.error("Gantt 차트를 찾을 수 없습니다"),l.push("/dashboard");return}n(a),q(b),u(c)}catch(a){console.error("Failed to load Gantt chart:",a),s.toast.error("Gantt 차트 로딩 실패")}finally{w(!1)}}()},[f,l]);let z=async()=>{try{y(!0),s.toast.success("저장되었습니다")}catch(a){console.error("Save error:",a),s.toast.error("저장 실패")}finally{y(!1)}};return v?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,b.jsx)("div",{className:"spinner"}),(0,b.jsx)("p",{className:"mt-4 text-primary-600",children:"Gantt 차트 로딩 중..."})]}):m?(0,b.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-primary-200 dark:border-primary-800 bg-white dark:bg-primary-900",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(e.default,{href:`/dashboard/projects/${m.project_id}`,children:(0,b.jsxs)(h.Button,{variant:"ghost",size:"sm",children:[(0,b.jsx)(i.ArrowLeft,{className:"h-4 w-4 mr-2"}),"프로젝트로 돌아가기"]})}),(0,b.jsx)("div",{children:(0,b.jsx)("h1",{className:"text-xl font-bold text-primary-900 dark:text-primary-100",children:m.name})})]}),(0,b.jsxs)(h.Button,{variant:"primary",size:"md",onClick:z,loading:x,disabled:x,children:[(0,b.jsx)(j,{className:"h-4 w-4 mr-2"}),"저장"]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,b.jsx)(g,{})})]}):null}a.s(["default",()=>t],95925)}];

//# sourceMappingURL=_34b4d539._.js.map