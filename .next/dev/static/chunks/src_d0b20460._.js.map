{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/components/gantt/GanttControls.tsx"],"sourcesContent":["\"use client\";\n\nimport type { SaveState, ViewType } from \"./types\";\n\ninterface GanttControlsProps {\n  viewType: ViewType;\n  onViewTypeChange: (viewType: ViewType) => void;\n  showBaselines: boolean;\n  onToggleBaselines: () => void;\n  onSave: () => void;\n  hasChanges: boolean;\n  saveState: SaveState;\n}\n\nconst VIEW_OPTIONS: Array<{ id: ViewType; label: string }> = [\n  { id: \"day\", label: \"일\" },\n  { id: \"week\", label: \"주\" },\n  { id: \"month\", label: \"월\" },\n];\n\nexport function GanttControls({\n  viewType,\n  onViewTypeChange,\n  showBaselines,\n  onToggleBaselines,\n  onSave,\n  hasChanges,\n  saveState,\n}: GanttControlsProps) {\n  return (\n    <div className=\"p-2 bg-gray-100 flex items-center gap-2 rounded-md mb-2\">\n      {VIEW_OPTIONS.map((option) => (\n        <button\n          key={option.id}\n          type=\"button\"\n          onClick={() => onViewTypeChange(option.id)}\n          className={`px-3 py-1 rounded text-sm ${\n            viewType === option.id\n              ? \"bg-blue-500 text-white\"\n              : \"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"\n          }`}\n          aria-pressed={viewType === option.id}\n        >\n          {option.label}\n        </button>\n      ))}\n      <div className=\"h-6 w-px bg-gray-300 mx-2\" />\n      <button\n        type=\"button\"\n        onClick={onToggleBaselines}\n        className={`px-3 py-1 rounded text-sm ${\n          showBaselines\n            ? \"bg-gray-700 text-white\"\n            : \"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"\n        }`}\n        aria-pressed={showBaselines}\n      >\n        계획 일정 {showBaselines ? \"숨기기\" : \"표시\"}\n      </button>\n      <div className=\"flex-1\" />\n      <button\n        type=\"button\"\n        onClick={onSave}\n        disabled={!hasChanges || saveState === \"saving\"}\n        className={`px-4 py-1 rounded text-sm font-medium transition-colors ${\n          !hasChanges || saveState === \"saving\"\n            ? \"bg-gray-200 text-gray-400 cursor-not-allowed\"\n            : \"bg-green-600 text-white hover:bg-green-700\"\n        }`}\n        title={`hasChanges: ${hasChanges}, saveState: ${saveState}`}\n      >\n        {saveState === \"saving\" ? \"저장 중...\" : \"저장\"}\n      </button>\n      <span className=\"ml-2 text-sm text-gray-600\" role=\"status\">\n        {hasChanges && saveState === \"idle\" && \"변경 사항이 있습니다.\"}\n        {saveState === \"saved\" && \"저장되었습니다.\"}\n        {saveState === \"error\" && \"저장 실패.\"}\n      </span>\n    </div>\n  );\n}\n\n\n\n\n\n\n"],"names":[],"mappings":";;;;;AAAA;;AAcA,MAAM,eAAuD;IAC3D;QAAE,IAAI;QAAO,OAAO;IAAI;IACxB;QAAE,IAAI;QAAQ,OAAO;IAAI;IACzB;QAAE,IAAI;QAAS,OAAO;IAAI;CAC3B;AAEM,SAAS,cAAc,EAC5B,QAAQ,EACR,gBAAgB,EAChB,aAAa,EACb,iBAAiB,EACjB,MAAM,EACN,UAAU,EACV,SAAS,EACU;IACnB,qBACE,6LAAC;QAAI,WAAU;;YACZ,aAAa,GAAG,CAAC,CAAC,uBACjB,6LAAC;oBAEC,MAAK;oBACL,SAAS,IAAM,iBAAiB,OAAO,EAAE;oBACzC,WAAW,CAAC,0BAA0B,EACpC,aAAa,OAAO,EAAE,GAClB,2BACA,kEACJ;oBACF,gBAAc,aAAa,OAAO,EAAE;8BAEnC,OAAO,KAAK;mBAVR,OAAO,EAAE;;;;;0BAalB,6LAAC;gBAAI,WAAU;;;;;;0BACf,6LAAC;gBACC,MAAK;gBACL,SAAS;gBACT,WAAW,CAAC,0BAA0B,EACpC,gBACI,2BACA,kEACJ;gBACF,gBAAc;;oBACf;oBACQ,gBAAgB,QAAQ;;;;;;;0BAEjC,6LAAC;gBAAI,WAAU;;;;;;0BACf,6LAAC;gBACC,MAAK;gBACL,SAAS;gBACT,UAAU,CAAC,cAAc,cAAc;gBACvC,WAAW,CAAC,wDAAwD,EAClE,CAAC,cAAc,cAAc,WACzB,iDACA,8CACJ;gBACF,OAAO,CAAC,YAAY,EAAE,WAAW,aAAa,EAAE,WAAW;0BAE1D,cAAc,WAAW,YAAY;;;;;;0BAExC,6LAAC;gBAAK,WAAU;gBAA6B,MAAK;;oBAC/C,cAAc,cAAc,UAAU;oBACtC,cAAc,WAAW;oBACzB,cAAc,WAAW;;;;;;;;;;;;;AAIlC;KA5DgB"}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/components/gantt/WillowTheme.tsx"],"sourcesContent":["\"use client\";\n\nimport type { ReactNode } from \"react\";\nimport { Willow } from \"@svar-ui/react-gantt\";\n\nexport function WillowTheme({ children, fonts = true }: { children: ReactNode; fonts?: boolean }) {\n  return <Willow fonts={fonts}>{children}</Willow>;\n}\n\n\n\n\n\n\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAKO,SAAS,YAAY,EAAE,QAAQ,EAAE,QAAQ,IAAI,EAA4C;IAC9F,qBAAO,6LAAC,kMAAM;QAAC,OAAO;kBAAQ;;;;;;AAChC;KAFgB"}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/data/users.ts"],"sourcesContent":["export interface GanttUserOption {\n  id: string | number;\n  label: string;\n}\n\nexport const users: GanttUserOption[] = [\n  { id: 1, label: \"WJByun\" },\n  { id: 2, label: \"CBLee\" },\n  { id: 3, label: \"JMHong\" },\n  { id: 4, label: \"SMShin\" },\n];\n\n"],"names":[],"mappings":";;;;AAKO,MAAM,QAA2B;IACtC;QAAE,IAAI;QAAG,OAAO;IAAS;IACzB;QAAE,IAAI;QAAG,OAAO;IAAQ;IACxB;QAAE,IAAI;QAAG,OAAO;IAAS;IACzB;QAAE,IAAI;QAAG,OAAO;IAAS;CAC1B"}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/components/gantt/taskConfig.ts"],"sourcesContent":["import type { ViewType } from \"./types\";\n\nexport const TASK_TYPES = [\n  { id: \"task\", label: \"일반작업 종속\" },\n  { id: \"summary\", label: \"요약작업\" },\n  { id: \"milestone\", label: \"마일스톤\" },\n  { id: \"urgent\", label: \"일반작업 비종속\" },\n  { id: \"narrow\", label: \"간접작업\" },\n  { id: \"progress\", label: \"기타작업\" },\n  { id: \"round\", label: \"간접작업 종속\" },\n];\n\nexport const CELL_WIDTH_MAP: Record<ViewType, number> = {\n  day: 36,\n  week: 120,\n  month: 180,\n};\n\nexport const CELL_HEIGHT = 36;\n\n"],"names":[],"mappings":";;;;;;;;AAEO,MAAM,aAAa;IACxB;QAAE,IAAI;QAAQ,OAAO;IAAU;IAC/B;QAAE,IAAI;QAAW,OAAO;IAAO;IAC/B;QAAE,IAAI;QAAa,OAAO;IAAO;IACjC;QAAE,IAAI;QAAU,OAAO;IAAW;IAClC;QAAE,IAAI;QAAU,OAAO;IAAO;IAC9B;QAAE,IAAI;QAAY,OAAO;IAAO;IAChC;QAAE,IAAI;QAAS,OAAO;IAAU;CACjC;AAEM,MAAM,iBAA2C;IACtD,KAAK;IACL,MAAM;IACN,OAAO;AACT;AAEO,MAAM,cAAc"}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/components/gantt/editorItems.tsx"],"sourcesContent":["\"use client\";\n\nimport { Combo, RadioButtonGroup } from \"@svar-ui/react-core\";\nimport { defaultEditorItems, registerEditorItem } from \"@svar-ui/react-gantt\";\n\nimport { users, type GanttUserOption } from \"../../data/users\";\nimport { TASK_TYPES } from \"./taskConfig\";\n\ninterface AssignedComboProps {\n  value: string | number | undefined;\n  options: GanttUserOption[];\n  onChange: (payload: { value: string | number | undefined }) => void;\n}\n\nconst FIELD_OVERRIDES: Record<string, { label?: string; placeholder?: string }> = {\n  text: { label: \"작업명\", placeholder: \"작업 이름을 입력하세요\" },\n  details: { label: \"설명\", placeholder: \"세부 내용을 입력하세요\" },\n  type: { label: \"작업 유형\" },\n  start: { label: \"시작일\" },\n  end: { label: \"종료일\" },\n  progress: { label: \"진행율\" },\n  links: { label: \"연결 관계\" },\n};\n\nconst AssignedCombo = ({ value, options, onChange }: AssignedComboProps) => {\n  const renderOption = ({ option }: { option: GanttUserOption }) => <span>{option?.label ?? \"\"}</span>;\n  return (\n    <Combo\n      clear\n      options={options}\n      value={value}\n      onChange={onChange}\n      placeholder=\"담당자를 선택하세요\"\n    >\n      {renderOption as any}\n    </Combo>\n  );\n};\n\n// Ensure this runs on client only, though nextjs client components will handle it\nif (typeof window !== 'undefined') {\n    registerEditorItem(\"radio\", RadioButtonGroup);\n    registerEditorItem(\"assigned-combo\", AssignedCombo);\n}\n\nconst createEditorItems = () => {\n  const baseItems = defaultEditorItems\n    .filter((item) => item.key !== \"duration\")\n    .map((item) => {\n      const overrides = FIELD_OVERRIDES[item.key as string];\n      const next: Record<string, any> = { ...item };\n\n      // 각 필드에 고유 id 할당 (중복 id 방지)\n      if (!next.id && item.key) {\n        next.id = `editor-field-${item.key}`;\n      }\n\n      if (overrides?.label) {\n        next.label = overrides.label;\n      }\n\n      if (overrides?.placeholder) {\n        next.config = {\n          ...(next.config ?? {}),\n          placeholder: overrides.placeholder,\n        };\n      }\n\n      return next;\n    });\n\n  const typeIndex = baseItems.findIndex((item) => item.key === \"type\");\n\n  if (typeIndex !== -1) {\n    baseItems.splice(\n      typeIndex,\n      1,\n      {\n        key: \"type\",\n        id: \"task-type-field\",\n        comp: \"radio\",\n        label: FIELD_OVERRIDES.type?.label ?? \"작업 유형\",\n        options: TASK_TYPES.map(({ id, label }) => ({\n          id,\n          label,\n          value: id,\n        })),\n        config: {\n          type: \"inline\",\n        },\n      },\n      {\n        key: \"assigned\",\n        id: \"task-assigned-field\",\n        comp: \"assigned-combo\",\n        label: \"담당자\",\n        options: users,\n        config: {\n          placeholder: \"담당자를 선택하세요\",\n        },\n      },\n    );\n  }\n\n  return baseItems;\n};\n\nexport const editorItems = createEditorItems();\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAEA;AACA;AANA;;;;;;AAcA,MAAM,kBAA4E;IAChF,MAAM;QAAE,OAAO;QAAO,aAAa;IAAe;IAClD,SAAS;QAAE,OAAO;QAAM,aAAa;IAAe;IACpD,MAAM;QAAE,OAAO;IAAQ;IACvB,OAAO;QAAE,OAAO;IAAM;IACtB,KAAK;QAAE,OAAO;IAAM;IACpB,UAAU;QAAE,OAAO;IAAM;IACzB,OAAO;QAAE,OAAO;IAAQ;AAC1B;AAEA,MAAM,gBAAgB,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAsB;IACrE,MAAM,eAAe,CAAC,EAAE,MAAM,EAA+B,iBAAK,6LAAC;sBAAM,QAAQ,SAAS;;;;;;IAC1F,qBACE,6LAAC,gMAAK;QACJ,KAAK;QACL,SAAS;QACT,OAAO;QACP,UAAU;QACV,aAAY;kBAEX;;;;;;AAGP;KAbM;AAeN,kFAAkF;AAClF,wCAAmC;IAC/B,IAAA,+LAAkB,EAAC,SAAS,2MAAgB;IAC5C,IAAA,+LAAkB,EAAC,kBAAkB;AACzC;AAEA,MAAM,oBAAoB;IACxB,MAAM,YAAY,wLAAkB,CACjC,MAAM,CAAC,CAAC,OAAS,KAAK,GAAG,KAAK,YAC9B,GAAG,CAAC,CAAC;QACJ,MAAM,YAAY,eAAe,CAAC,KAAK,GAAG,CAAW;QACrD,MAAM,OAA4B;YAAE,GAAG,IAAI;QAAC;QAE5C,4BAA4B;QAC5B,IAAI,CAAC,KAAK,EAAE,IAAI,KAAK,GAAG,EAAE;YACxB,KAAK,EAAE,GAAG,CAAC,aAAa,EAAE,KAAK,GAAG,EAAE;QACtC;QAEA,IAAI,WAAW,OAAO;YACpB,KAAK,KAAK,GAAG,UAAU,KAAK;QAC9B;QAEA,IAAI,WAAW,aAAa;YAC1B,KAAK,MAAM,GAAG;gBACZ,GAAI,KAAK,MAAM,IAAI,CAAC,CAAC;gBACrB,aAAa,UAAU,WAAW;YACpC;QACF;QAEA,OAAO;IACT;IAEF,MAAM,YAAY,UAAU,SAAS,CAAC,CAAC,OAAS,KAAK,GAAG,KAAK;IAE7D,IAAI,cAAc,CAAC,GAAG;QACpB,UAAU,MAAM,CACd,WACA,GACA;YACE,KAAK;YACL,IAAI;YACJ,MAAM;YACN,OAAO,gBAAgB,IAAI,EAAE,SAAS;YACtC,SAAS,yJAAU,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,GAAK,CAAC;oBAC1C;oBACA;oBACA,OAAO;gBACT,CAAC;YACD,QAAQ;gBACN,MAAM;YACR;QACF,GACA;YACE,KAAK;YACL,IAAI;YACJ,MAAM;YACN,OAAO;YACP,SAAS,gIAAK;YACd,QAAQ;gBACN,aAAa;YACf;QACF;IAEJ;IAEA,OAAO;AACT;AAEO,MAAM,cAAc"}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/components/gantt/TaskTooltip.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC } from \"react\";\n\ninterface TaskTooltipProps {\n  data?: Record<string, unknown>;\n}\n\nconst dateFormatter = new Intl.DateTimeFormat(\"ko-KR\", {\n  year: \"numeric\",\n  month: \"2-digit\",\n  day: \"2-digit\",\n});\n\nconst formatDate = (value: unknown): string => {\n  const date = value instanceof Date ? value : new Date(value as string | number);\n  return Number.isNaN(date.getTime()) ? \"-\" : dateFormatter.format(date);\n};\n\nconst TaskTooltip: FC<TaskTooltipProps> = ({ data }) => {\n  if (!data) {\n    return null;\n  }\n\n  const isMilestone = data.type === \"milestone\";\n  const progress =\n    typeof data.progress === \"number\" && Number.isFinite(data.progress)\n      ? `${Math.round(data.progress)}%`\n      : null;\n  const exclusiveEnd = data.end instanceof Date ? data.end : data.end ? new Date(data.end as string) : undefined;\n  const startDate = data.start instanceof Date ? data.start : data.start ? new Date(data.start as string) : undefined;\n  let inclusiveEnd: Date | undefined;\n  if (exclusiveEnd && !Number.isNaN(exclusiveEnd.getTime())) {\n    inclusiveEnd = new Date(exclusiveEnd.getTime() - 24 * 60 * 60 * 1000);\n    if (startDate && !Number.isNaN(startDate.getTime()) && inclusiveEnd < startDate) {\n      inclusiveEnd = new Date(startDate);\n    }\n  }\n\n  return (\n    <div className=\"wx-task-tooltip\">\n      <div className=\"tooltip-header\">\n        {String(data.text ?? \"작업 상세\")}\n      </div>\n\n      <div className=\"tooltip-row\">\n        <span className=\"tooltip-label\">유형</span>\n        <span className=\"tooltip-value\">{String(data.type ?? \"일반\")}</span>\n      </div>\n\n      <div className=\"tooltip-row\">\n        <span className=\"tooltip-label\">기간</span>\n        <span className=\"tooltip-value\">\n          {formatDate(data.start)} ~ {isMilestone ? \"\" : formatDate(inclusiveEnd)}\n        </span>\n      </div>\n\n      {progress && (\n        <div className=\"tooltip-row\">\n          <span className=\"tooltip-label\">진행률</span>\n          <span className=\"tooltip-value\" style={{ color: \"var(--color-primary)\" }}>\n            {progress}\n          </span>\n        </div>\n      )}\n\n      {/* 담당자 정보가 있다면 표시 (예시) */}\n      {!!data.assigned && (\n        <div className=\"tooltip-row\">\n          <span className=\"tooltip-label\">담당자</span>\n          <span className=\"tooltip-value\">{String(data.assigned)}</span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TaskTooltip;\n\n"],"names":[],"mappings":";;;;;AAAA;;AAQA,MAAM,gBAAgB,IAAI,KAAK,cAAc,CAAC,SAAS;IACrD,MAAM;IACN,OAAO;IACP,KAAK;AACP;AAEA,MAAM,aAAa,CAAC;IAClB,MAAM,OAAO,iBAAiB,OAAO,QAAQ,IAAI,KAAK;IACtD,OAAO,OAAO,KAAK,CAAC,KAAK,OAAO,MAAM,MAAM,cAAc,MAAM,CAAC;AACnE;AAEA,MAAM,cAAoC,CAAC,EAAE,IAAI,EAAE;IACjD,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,MAAM,cAAc,KAAK,IAAI,KAAK;IAClC,MAAM,WACJ,OAAO,KAAK,QAAQ,KAAK,YAAY,OAAO,QAAQ,CAAC,KAAK,QAAQ,IAC9D,GAAG,KAAK,KAAK,CAAC,KAAK,QAAQ,EAAE,CAAC,CAAC,GAC/B;IACN,MAAM,eAAe,KAAK,GAAG,YAAY,OAAO,KAAK,GAAG,GAAG,KAAK,GAAG,GAAG,IAAI,KAAK,KAAK,GAAG,IAAc;IACrG,MAAM,YAAY,KAAK,KAAK,YAAY,OAAO,KAAK,KAAK,GAAG,KAAK,KAAK,GAAG,IAAI,KAAK,KAAK,KAAK,IAAc;IAC1G,IAAI;IACJ,IAAI,gBAAgB,CAAC,OAAO,KAAK,CAAC,aAAa,OAAO,KAAK;QACzD,eAAe,IAAI,KAAK,aAAa,OAAO,KAAK,KAAK,KAAK,KAAK;QAChE,IAAI,aAAa,CAAC,OAAO,KAAK,CAAC,UAAU,OAAO,OAAO,eAAe,WAAW;YAC/E,eAAe,IAAI,KAAK;QAC1B;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACZ,OAAO,KAAK,IAAI,IAAI;;;;;;0BAGvB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAU;kCAAgB;;;;;;kCAChC,6LAAC;wBAAK,WAAU;kCAAiB,OAAO,KAAK,IAAI,IAAI;;;;;;;;;;;;0BAGvD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAU;kCAAgB;;;;;;kCAChC,6LAAC;wBAAK,WAAU;;4BACb,WAAW,KAAK,KAAK;4BAAE;4BAAI,cAAc,KAAK,WAAW;;;;;;;;;;;;;YAI7D,0BACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAU;kCAAgB;;;;;;kCAChC,6LAAC;wBAAK,WAAU;wBAAgB,OAAO;4BAAE,OAAO;wBAAuB;kCACpE;;;;;;;;;;;;YAMN,CAAC,CAAC,KAAK,QAAQ,kBACd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAU;kCAAgB;;;;;;kCAChC,6LAAC;wBAAK,WAAU;kCAAiB,OAAO,KAAK,QAAQ;;;;;;;;;;;;;;;;;;AAK/D;KAxDM;uCA0DS"}},
    {"offset": {"line": 513, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/components/gantt/useGanttSchedule.ts"],"sourcesContent":["\"use client\";\n\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport axios from \"axios\";\n\nimport type { SaveState, ScheduleData } from \"./types\";\n\ninterface UseGanttScheduleResult {\n  schedule: ScheduleData | null;\n  isLoading: boolean;\n  saveState: SaveState;\n  hasChanges: boolean;\n  handleSave: () => Promise<void>;\n  initGantt: (api: any) => void;\n}\n\nconst TYPE_COLORS: Record<string, { bar: string; progress: string }> = {\n  urgent: { bar: \"#f49a82\", progress: \"#f45e36\" },\n  narrow: { bar: \"#676a81\", progress: \"#1a2630\" },\n  progress: { bar: \"#00bcd4\", progress: \"#00bcd4\" },\n  round: { bar: \"#10b981\", progress: \"#6ee7b7\" },\n};\n\nconst SYNC_EVENT_TAG = Symbol(\"gantt-sync-listener\");\nconst UI_EVENT_TAG = Symbol(\"gantt-ui-handlers\");\nconst SUMMARY_EVENT_TAG = Symbol(\"gantt-summary-progress\");\nconst MS_PER_DAY = 24 * 60 * 60 * 1000;\n\nconst toIsoDate = (value: unknown): string | undefined => {\n  if (value === null || value === undefined) {\n    return undefined;\n  }\n\n  if (typeof value === \"number\" && Number.isFinite(value)) {\n    const next = new Date(value);\n    return Number.isNaN(next.getTime()) ? undefined : next.toISOString().split(\"T\")[0];\n  }\n\n  if (typeof value === \"string\") {\n    const trimmed = value.trim();\n    if (!trimmed.length) {\n      return undefined;\n    }\n    const parsed = new Date(trimmed);\n    return Number.isNaN(parsed.getTime()) ? undefined : parsed.toISOString().split(\"T\")[0];\n  }\n\n  if (value instanceof Date) {\n    return Number.isNaN(value.getTime()) ? undefined : value.toISOString().split(\"T\")[0];\n  }\n\n  return undefined;\n};\n\nconst normalizeNumber = (value: unknown): number | undefined => {\n  if (typeof value === \"number\" && Number.isFinite(value)) {\n    return value;\n  }\n\n  if (typeof value === \"string\" && value.trim().length) {\n    const next = Number(value);\n    if (!Number.isNaN(next)) {\n      return next;\n    }\n  }\n\n  return undefined;\n};\n\nconst toDateOrUndefined = (value: unknown): Date | undefined => {\n  if (!value && value !== 0) {\n    return undefined;\n  }\n\n  if (value instanceof Date) {\n    return Number.isNaN(value.getTime()) ? undefined : value;\n  }\n\n  if (typeof value === \"string\") {\n    const trimmed = value.trim();\n    if (!trimmed.length) {\n      return undefined;\n    }\n\n    const dateOnly = /^(\\d{4})-(\\d{2})-(\\d{2})$/;\n    const match = trimmed.match(dateOnly);\n    if (match) {\n      const [, yearStr, monthStr, dayStr] = match;\n      const year = Number(yearStr);\n      const month = Number(monthStr) - 1;\n      const day = Number(dayStr);\n      if (\n        Number.isInteger(year) &&\n        Number.isInteger(month) &&\n        Number.isInteger(day)\n      ) {\n        const candidate = new Date(year, month, day);\n        return Number.isNaN(candidate.getTime()) ? undefined : candidate;\n      }\n    }\n\n    const parsed = new Date(trimmed);\n    return Number.isNaN(parsed.getTime()) ? undefined : parsed;\n  }\n\n  if (typeof value === \"number\") {\n    const next = new Date(value);\n    return Number.isNaN(next.getTime()) ? undefined : next;\n  }\n\n  return undefined;\n};\n\nconst calculateTaskDuration = (task: Record<string, unknown>): number => {\n  if (!task || typeof task !== \"object\") {\n    return 0;\n  }\n\n  if (typeof task.duration === \"number\" && Number.isFinite(task.duration) && task.duration > 0) {\n    return task.duration;\n  }\n\n  const start = toDateOrUndefined(task.start);\n  const end = toDateOrUndefined(task.end);\n\n  if (!start || !end) {\n    return 0;\n  }\n\n  const diff = (end.getTime() - start.getTime()) / MS_PER_DAY;\n  if (!Number.isFinite(diff) || diff <= 0) {\n    return 0;\n  }\n\n  return diff;\n};\n\nconst decorateTask = (task: Record<string, unknown>): Record<string, unknown> => {\n  const decorated: Record<string, unknown> = { ...task };\n\n  const start = toDateOrUndefined(decorated.start);\n  if (start) {\n    decorated.start = new Date(start);\n  }\n\n  const end = toDateOrUndefined(decorated.end);\n  if (end) {\n    decorated.end = new Date(end);\n  }\n\n  const baseStart = toDateOrUndefined(decorated.base_start);\n  if (baseStart) {\n    decorated.base_start = new Date(baseStart);\n  }\n\n  const baseEnd = toDateOrUndefined(decorated.base_end);\n  if (baseEnd) {\n    decorated.base_end = new Date(baseEnd);\n  }\n\n  if (decorated.type === \"milestone\") {\n    decorated.duration = 0;\n    delete decorated.end;\n  }\n\n  const typeKey = typeof decorated.type === \"string\" ? decorated.type : \"\";\n  const palette = TYPE_COLORS[typeKey];\n  if (palette) {\n    decorated.color = palette.bar;\n    decorated.progressColor = palette.progress;\n  }\n\n  return decorated;\n};\n\nconst serializeTask = (taskInput: Record<string, unknown>): Record<string, unknown> => {\n  const serialized: Record<string, unknown> = {};\n\n  if (taskInput.id !== undefined) serialized.id = taskInput.id;\n  if (taskInput.text !== undefined) serialized.text = taskInput.text;\n  if (taskInput.type !== undefined) serialized.type = taskInput.type;\n\n  const startDate = toIsoDate(taskInput.start);\n  if (startDate) serialized.start = startDate;\n\n  if (taskInput.type === \"milestone\") {\n    // 마일스톤은 start만 유지\n  } else {\n    const endDate = toIsoDate(taskInput.end);\n    if (endDate) {\n      serialized.end = endDate;\n    }\n  }\n\n  const baseStart = toIsoDate(taskInput.base_start);\n  if (baseStart) serialized.base_start = baseStart;\n\n  const baseEnd = toIsoDate(taskInput.base_end);\n  if (baseEnd) serialized.base_end = baseEnd;\n\n  const normalizedProgress = normalizeNumber(taskInput.progress);\n  if (typeof normalizedProgress !== \"undefined\") {\n    serialized.progress = normalizedProgress;\n  }\n\n  if (taskInput.parent !== undefined) serialized.parent = taskInput.parent;\n  if (taskInput.lazy !== undefined) serialized.lazy = taskInput.lazy;\n  if (taskInput.category !== undefined) serialized.category = taskInput.category;\n  if (taskInput.workType !== undefined) serialized.workType = taskInput.workType;\n  if (taskInput.open !== undefined) serialized.open = taskInput.open;\n\n  return serialized;\n};\n\nconst serializeLink = (linkInput: Record<string, unknown>): Record<string, unknown> => {\n  const serialized: Record<string, unknown> = {};\n\n  if (linkInput.id !== undefined) serialized.id = linkInput.id;\n  if (linkInput.source !== undefined) serialized.source = linkInput.source;\n  if (linkInput.target !== undefined) serialized.target = linkInput.target;\n  if (linkInput.type !== undefined) serialized.type = linkInput.type;\n\n  return serialized;\n};\n\nconst serializeSchedule = (\n  tasks: Array<Record<string, unknown>>,\n  links: Array<Record<string, unknown>>,\n  scales: Array<Record<string, unknown>>,\n) => ({\n  tasks: tasks.map((task) => serializeTask(task)),\n  links: links.map((link) => serializeLink(link)),\n  scales: scales.map((scale) => ({\n    unit: scale.unit,\n    step: scale.step,\n    format: scale.format,\n  })),\n});\n\nexport const useGanttSchedule = (): UseGanttScheduleResult => {\n  const apiRef = useRef<any | null>(null);\n  const currentTasksRef = useRef<Array<Record<string, unknown>>>([]);\n  const currentLinksRef = useRef<Array<Record<string, unknown>>>([]);\n  const scalesRef = useRef<Array<Record<string, unknown>>>([]);\n\n  const [schedule, setSchedule] = useState<ScheduleData | null>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [saveState, setSaveState] = useState<SaveState>(\"idle\");\n  const [hasChanges, setHasChanges] = useState<boolean>(false);\n\n  const getSummaryProgress = useCallback((summaryId: unknown): number => {\n    const api = apiRef.current;\n    if (!api) {\n      return 0;\n    }\n\n    const collect = (taskId: unknown): [number, number] => {\n      const task = api.getTask(taskId);\n      const children = task?.data;\n\n      if (!children || !children.length) {\n        return [0, 0];\n      }\n\n      let totalProgress = 0;\n      let totalDuration = 0;\n\n      children.forEach((child: any) => {\n        const childTask = api.getTask(child.id);\n        if (!childTask) {\n          return;\n        }\n\n        if (childTask.type !== \"milestone\" && childTask.type !== \"summary\") {\n          const duration = calculateTaskDuration(childTask);\n          if (duration > 0) {\n            const progressValue =\n              typeof childTask.progress === \"number\"\n                ? childTask.progress\n                : Number(childTask.progress ?? 0);\n            const boundedProgress = Number.isFinite(progressValue)\n              ? Math.max(0, Math.min(100, progressValue))\n              : 0;\n            totalDuration += duration;\n            totalProgress += duration * boundedProgress;\n          }\n        }\n\n        const [childProgress, childDuration] = collect(childTask.id);\n        totalProgress += childProgress;\n        totalDuration += childDuration;\n      });\n\n      return [totalProgress, totalDuration];\n    };\n\n    const [totalProgress, totalDuration] = collect(summaryId);\n    if (!totalDuration) {\n      return 0;\n    }\n\n    const average = totalProgress / totalDuration;\n    if (!Number.isFinite(average)) {\n      return 0;\n    }\n\n    const rounded = Math.round(average);\n    return Math.max(0, Math.min(100, rounded));\n  }, []);\n\n  const recalcSummaryProgress = useCallback(\n    (taskId: unknown, treatAsSummary = false) => {\n      const api = apiRef.current;\n      if (!api) {\n        return;\n      }\n\n      if (taskId === undefined || taskId === null) {\n        return;\n      }\n\n      const task = api.getTask(taskId);\n      if (!task || task.type === \"milestone\") {\n        return;\n      }\n\n      const state = api.getState?.();\n      const tasksStore: any = state?.tasks;\n\n      const summaryId =\n        treatAsSummary && task.type === \"summary\"\n          ? taskId\n          : tasksStore?.getSummaryId?.(taskId);\n\n      if (!summaryId) {\n        return;\n      }\n\n      const summaryTask = api.getTask(summaryId);\n      if (!summaryTask) {\n        return;\n      }\n\n      const nextProgress = getSummaryProgress(summaryId);\n      const currentProgress =\n        typeof summaryTask.progress === \"number\"\n          ? summaryTask.progress\n          : Number(summaryTask.progress ?? 0);\n\n      if (!Number.isFinite(nextProgress) || nextProgress === currentProgress) {\n        return;\n      }\n\n      api.exec(\"update-task\", {\n        id: summaryId,\n        task: { progress: nextProgress },\n      });\n    },\n    [getSummaryProgress],\n  );\n\n  const recalcAllSummaryTasks = useCallback(() => {\n    const api = apiRef.current;\n    if (!api) {\n      return;\n    }\n\n    try {\n      const state = api.getState?.();\n      const tasksStore: any = state?.tasks;\n      tasksStore?.forEach?.((task: any) => {\n        if (task.type === \"summary\") {\n          recalcSummaryProgress(task.id, true);\n        }\n      });\n    } catch (error) {\n      console.warn(\"Failed to recalculate summary progress:\", error);\n    }\n  }, [recalcSummaryProgress]);\n\n  const markAsChanged = useCallback(() => {\n    setHasChanges(true);\n    setSaveState((prev) => (prev === \"saved\" ? \"idle\" : prev));\n  }, []);\n\n  const syncFromApi = useCallback(() => {\n    const api = apiRef.current;\n    if (!api) {\n      return;\n    }\n\n    let rawTasks: Array<Record<string, unknown>> = [];\n    try {\n      rawTasks = typeof api.serialize === \"function\" ? api.serialize() ?? [] : [];\n    } catch (error) {\n      console.warn(\"Failed to serialize tasks from API:\", error);\n    }\n\n    const decoratedTasks = rawTasks.map((task: any) => decorateTask(task));\n\n    let links = currentLinksRef.current;\n    try {\n      const stores = typeof api.getStores === \"function\" ? api.getStores() : null;\n      const dataStore = stores?.data;\n      const state = dataStore?.getState ? dataStore.getState() : null;\n      if (state?.links) {\n        links = state.links.map((link: any) => ({ ...link }));\n      }\n    } catch (error) {\n      console.warn(\"Failed to extract links from API:\", error);\n    }\n\n    currentTasksRef.current = decoratedTasks;\n    currentLinksRef.current = links;\n\n    setSchedule((prev) =>\n      prev\n        ? {\n            ...prev,\n            tasks: decoratedTasks,\n            links,\n          }\n        : prev,\n    );\n  }, []);\n\n  const attachDataListeners = useCallback(\n    (api: any) => {\n      api.detach(SYNC_EVENT_TAG);\n\n      const events = [\n        \"add-task\",\n        \"update-task\",\n        \"delete-task\",\n        \"move-task\",\n        \"copy-task\",\n        \"indent-task\",\n        \"add-link\",\n        \"update-link\",\n        \"delete-link\",\n      ];\n\n      events.forEach((eventName) => {\n        api.on(\n          eventName,\n          (event: any) => {\n            // Progress 드래그 중인 임시 업데이트 무시 (화면 흔들림 방지)\n            if (event?.inProgress) {\n              return;\n            }\n            syncFromApi();\n            markAsChanged();\n          },\n          { tag: SYNC_EVENT_TAG },\n        );\n      });\n    },\n    [markAsChanged, syncFromApi],\n  );\n\n  const initGantt = useCallback(\n    (api: any) => {\n      apiRef.current = api;\n\n      attachDataListeners(api);\n\n      api.detach(SUMMARY_EVENT_TAG);\n      const registerSummaryHandler = (action: string, handler: (payload: any) => void) => {\n        api.on(action, handler, { tag: SUMMARY_EVENT_TAG });\n      };\n\n      registerSummaryHandler(\"add-task\", ({ id }: { id: unknown }) => {\n        recalcSummaryProgress(id);\n      });\n\n      registerSummaryHandler(\"update-task\", (event: any) => {\n        if (event?.inProgress) {\n          return;\n        }\n        recalcSummaryProgress(event.id);\n      });\n\n      registerSummaryHandler(\"copy-task\", ({ id }: { id: unknown }) => {\n        recalcSummaryProgress(id);\n      });\n\n      registerSummaryHandler(\"delete-task\", ({ source }: { source: unknown }) => {\n        if (source !== undefined && source !== null) {\n          recalcSummaryProgress(source, true);\n        }\n      });\n\n      registerSummaryHandler(\"move-task\", (event: any) => {\n        if (event?.inProgress) {\n          return;\n        }\n        recalcSummaryProgress(event.id);\n        if (event?.source !== undefined && event?.source !== null) {\n          recalcSummaryProgress(event.source, true);\n        }\n      });\n\n      api.detach(UI_EVENT_TAG);\n      api.on(\n        \"add-task\",\n        ({ id }: { id: string | number }) => {\n          api.exec(\"show-editor\", { id });\n        },\n        { tag: UI_EVENT_TAG },\n      );\n\n      recalcAllSummaryTasks();\n      syncFromApi();\n    },\n    [attachDataListeners, recalcAllSummaryTasks, recalcSummaryProgress, syncFromApi],\n  );\n\n  const handleSave = useCallback(async () => {\n    const api = apiRef.current;\n    if (!api) {\n      console.error(\"Gantt API is not ready\");\n      return;\n    }\n\n    try {\n      setSaveState(\"saving\");\n      syncFromApi();\n\n      const tasksToSave = currentTasksRef.current;\n      if (tasksToSave.length === 0) {\n        throw new Error(\"No tasks to save\");\n      }\n\n      let linksToSave = currentLinksRef.current;\n      try {\n        const stores = typeof api.getStores === \"function\" ? api.getStores() : null;\n        const dataStore = stores?.data;\n        const state = dataStore?.getState ? dataStore.getState() : null;\n        if (state?.links) {\n          linksToSave = state.links.map((link: any) => ({ ...link }));\n          currentLinksRef.current = linksToSave;\n        }\n      } catch (error) {\n        console.warn(\"Falling back to cached links while saving:\", error);\n      }\n\n      const payload = serializeSchedule(\n        tasksToSave,\n        linksToSave,\n        schedule?.scales ?? scalesRef.current,\n      );\n\n      // API call to Next.js route\n      await axios.post(\"/api/mock\", payload, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      setSaveState(\"saved\");\n      setHasChanges(false);\n      window.setTimeout(() => {\n        setSaveState(\"idle\");\n      }, 1500);\n    } catch (error) {\n      console.error(\"Save error:\", error);\n      setSaveState(\"error\");\n      alert(\"저장 중 오류가 발생했습니다: \" + (error as Error).message);\n    }\n  }, [schedule?.scales, syncFromApi]);\n\n  useEffect(() => {\n    let isMounted = true;\n\n    const loadData = async () => {\n      setIsLoading(true);\n\n      try {\n        // API call to Next.js route\n        const response = await axios.get(\"/api/mock\");\n        const data = response.data;\n        if (!isMounted) {\n          return;\n        }\n\n        const tasks = (data.tasks ?? []).map((task: any) => decorateTask(task));\n        const links = (data.links ?? []).map((link: any) => ({ ...link }));\n        const scales = (data.scales ?? []).map((scale: any) => ({ ...scale }));\n\n        scalesRef.current = scales;\n        currentTasksRef.current = tasks;\n        currentLinksRef.current = links;\n\n        setSchedule({ tasks, links, scales });\n        setHasChanges(false);\n        setSaveState(\"idle\");\n      } catch (error) {\n        console.error(\"Error loading data:\", error);\n        if (isMounted) {\n          setSchedule(null);\n        }\n      } finally {\n        if (isMounted) {\n          setIsLoading(false);\n        }\n      }\n    };\n\n    void loadData();\n\n    return () => {\n      isMounted = false;\n      const api = apiRef.current;\n      if (api) {\n        api.detach(SYNC_EVENT_TAG);\n        api.detach(UI_EVENT_TAG);\n        api.detach(SUMMARY_EVENT_TAG);\n      }\n    };\n  }, []);\n\n  return {\n    schedule,\n    isLoading,\n    saveState,\n    hasChanges,\n    handleSave,\n    initGantt,\n  };\n};\n\n\n\n\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1119, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/data/koreanHolidays.ts"],"sourcesContent":["/**\n * 한국 공휴일 데이터 (2024-2026)\n * 음력 공휴일은 양력 날짜로 변환하여 포함\n */\n\nexport interface Holiday {\n  date: string; // YYYY-MM-DD 형식\n  name: string;\n}\n\nexport const koreanHolidays2025: Holiday[] = [\n  { date: '2025-01-01', name: '신정' },\n  { date: '2025-01-28', name: '설날 연휴' },\n  { date: '2025-01-29', name: '설날' },\n  { date: '2025-01-30', name: '설날 연휴' },\n  { date: '2025-03-01', name: '삼일절' },\n  { date: '2025-03-03', name: '대체공휴일(삼일절)' },\n  { date: '2025-05-05', name: '어린이날' },\n  { date: '2025-05-06', name: '부처님오신날' },\n  { date: '2025-06-06', name: '현충일' },\n  { date: '2025-08-15', name: '광복절' },\n  { date: '2025-10-05', name: '추석 연휴' },\n  { date: '2025-10-06', name: '추석' },\n  { date: '2025-10-07', name: '추석 연휴' },\n  { date: '2025-10-08', name: '대체공휴일(추석)' },\n  { date: '2025-10-03', name: '개천절' },\n  { date: '2025-10-09', name: '한글날' },\n  { date: '2025-12-25', name: '크리스마스' },\n];\n\nexport const koreanHolidays2026: Holiday[] = [\n  { date: '2026-01-01', name: '신정' },\n  { date: '2026-02-16', name: '설날 연휴' },\n  { date: '2026-02-17', name: '설날' },\n  { date: '2026-02-18', name: '설날 연휴' },\n  { date: '2026-03-01', name: '삼일절' },\n  { date: '2026-05-05', name: '어린이날' },\n  { date: '2026-05-25', name: '부처님오신날' },\n  { date: '2026-06-06', name: '현충일' },\n  { date: '2026-08-15', name: '광복절' },\n  { date: '2026-09-24', name: '추석 연휴' },\n  { date: '2026-09-25', name: '추석' },\n  { date: '2026-09-26', name: '추석 연휴' },\n  { date: '2026-10-03', name: '개천절' },\n  { date: '2026-10-09', name: '한글날' },\n  { date: '2026-12-25', name: '크리스마스' },\n];\n\n// 모든 공휴일을 날짜 문자열 Set으로 변환 (빠른 조회를 위해)\nconst allHolidaysSet = new Set<string>([\n  ...koreanHolidays2025.map(h => h.date),\n  ...koreanHolidays2026.map(h => h.date),\n]);\n\n/**\n * 주말인지 확인 (토요일, 일요일)\n */\nexport function isWeekend(date: Date): boolean {\n  const day = date.getDay();\n  return day === 0 || day === 6; // 0 = 일요일, 6 = 토요일\n}\n\n/**\n * 한국 공휴일인지 확인\n */\nexport function isKoreanHoliday(date: Date): boolean {\n  const dateStr = date.toISOString().split('T')[0];\n  return allHolidaysSet.has(dateStr);\n}\n\n/**\n * 주말 또는 공휴일인지 확인\n */\nexport function isDayOff(date: Date): boolean {\n  return isWeekend(date) || isKoreanHoliday(date);\n}\n\n/**\n * 특정 날짜의 공휴일 이름 가져오기\n */\nexport function getHolidayName(date: Date): string | null {\n  const dateStr = date.toISOString().split('T')[0];\n\n  const allHolidays = [\n    ...koreanHolidays2025,\n    ...koreanHolidays2026,\n  ];\n\n  const holiday = allHolidays.find(h => h.date === dateStr);\n  return holiday ? holiday.name : null;\n}\n\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;;;;;AAOM,MAAM,qBAAgC;IAC3C;QAAE,MAAM;QAAc,MAAM;IAAK;IACjC;QAAE,MAAM;QAAc,MAAM;IAAQ;IACpC;QAAE,MAAM;QAAc,MAAM;IAAK;IACjC;QAAE,MAAM;QAAc,MAAM;IAAQ;IACpC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAa;IACzC;QAAE,MAAM;QAAc,MAAM;IAAO;IACnC;QAAE,MAAM;QAAc,MAAM;IAAS;IACrC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAQ;IACpC;QAAE,MAAM;QAAc,MAAM;IAAK;IACjC;QAAE,MAAM;QAAc,MAAM;IAAQ;IACpC;QAAE,MAAM;QAAc,MAAM;IAAY;IACxC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAQ;CACrC;AAEM,MAAM,qBAAgC;IAC3C;QAAE,MAAM;QAAc,MAAM;IAAK;IACjC;QAAE,MAAM;QAAc,MAAM;IAAQ;IACpC;QAAE,MAAM;QAAc,MAAM;IAAK;IACjC;QAAE,MAAM;QAAc,MAAM;IAAQ;IACpC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAO;IACnC;QAAE,MAAM;QAAc,MAAM;IAAS;IACrC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAQ;IACpC;QAAE,MAAM;QAAc,MAAM;IAAK;IACjC;QAAE,MAAM;QAAc,MAAM;IAAQ;IACpC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAQ;CACrC;AAED,sCAAsC;AACtC,MAAM,iBAAiB,IAAI,IAAY;OAClC,mBAAmB,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI;OAClC,mBAAmB,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI;CACtC;AAKM,SAAS,UAAU,IAAU;IAClC,MAAM,MAAM,KAAK,MAAM;IACvB,OAAO,QAAQ,KAAK,QAAQ,GAAG,mBAAmB;AACpD;AAKO,SAAS,gBAAgB,IAAU;IACxC,MAAM,UAAU,KAAK,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;IAChD,OAAO,eAAe,GAAG,CAAC;AAC5B;AAKO,SAAS,SAAS,IAAU;IACjC,OAAO,UAAU,SAAS,gBAAgB;AAC5C;AAKO,SAAS,eAAe,IAAU;IACvC,MAAM,UAAU,KAAK,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;IAEhD,MAAM,cAAc;WACf;WACA;KACJ;IAED,MAAM,UAAU,YAAY,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;IACjD,OAAO,UAAU,QAAQ,IAAI,GAAG;AAClC"}},
    {"offset": {"line": 1300, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/components/GanttChart.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState, useCallback } from \"react\";\nimport {\n  Editor,\n  Gantt,\n  Toolbar,\n  ContextMenu,\n  Tooltip,\n  defaultColumns,\n  defaultToolbarButtons,\n  type IColumnConfig,\n} from \"@svar-ui/react-gantt\";\nimport \"@/styles/svar-gantt-fixed.css\";\n\nimport \"@/styles/gantt.css\"; // Corrected import path for Next.js\n\nimport { GanttControls } from \"./gantt/GanttControls\";\nimport { WillowTheme } from \"./gantt/WillowTheme\";\nimport { editorItems } from \"./gantt/editorItems\";\nimport TaskTooltip from \"./gantt/TaskTooltip\";\nimport { CELL_HEIGHT, CELL_WIDTH_MAP, TASK_TYPES } from \"./gantt/taskConfig\";\nimport { useGanttSchedule } from \"./gantt/useGanttSchedule\";\nimport type { ViewType } from \"./gantt/types\";\nimport { isWeekend, isKoreanHoliday } from \"../data/koreanHolidays\";\n\nconst START_COLUMN_WIDTH = 100;\n\ninterface ScaleConfig {\n  unit: \"year\" | \"month\" | \"week\" | \"day\" | \"hour\";\n  step: number;\n  format: string;\n}\n\nconst TIME_SCALE_CONFIGS: Record<ViewType, { scales: ScaleConfig[] }> = {\n  day: {\n    scales: [\n      { unit: \"year\", step: 1, format: \"yyyy년\" },\n      { unit: \"month\", step: 1, format: \"M월\" },\n      { unit: \"day\", step: 1, format: \"d\" },\n    ],\n  },\n  week: {\n    scales: [\n      { unit: \"year\", step: 1, format: \"yyyy년\" },\n      { unit: \"month\", step: 1, format: \"M월\" },\n      { unit: \"week\", step: 1, format: \"w주\" },\n    ],\n  },\n  month: {\n    scales: [\n      { unit: \"year\", step: 1, format: \"yyyy년\" },\n      { unit: \"month\", step: 1, format: \"M월\" },\n    ],\n  },\n};\n\nconst dateFormatter = new Intl.DateTimeFormat(\"ko-KR\", {\n  year: \"numeric\",\n  month: \"2-digit\",\n  day: \"2-digit\",\n});\n\nconst formatDisplayEnd = (task: Record<string, any>): string => {\n  const exclusiveEnd =\n    task.end instanceof Date ? task.end : task.end ? new Date(task.end as string) : undefined;\n  if (!exclusiveEnd) {\n    return \"\";\n  }\n\n  const inclusive = new Date(exclusiveEnd);\n  inclusive.setDate(inclusive.getDate() - 1);\n\n  const start =\n    task.start instanceof Date ? task.start : task.start ? new Date(task.start as string) : undefined;\n  if (start && inclusive < start) {\n    return dateFormatter.format(start);\n  }\n\n  return dateFormatter.format(inclusive);\n};\n\nexport function GanttChart() {\n  const [viewType, setViewType] = useState<ViewType>(\"day\");\n  const [showBaselines, setShowBaselines] = useState(false);\n  const [ganttApi, setGanttApi] = useState<any | null>(null);\n  const {\n    schedule,\n    isLoading,\n    saveState,\n    hasChanges,\n    handleSave,\n    initGantt } = useGanttSchedule();\n\n  const columns = useMemo<IColumnConfig[]>(() => {\n    return defaultColumns.map((column) => {\n      if (column.id === \"text\") {\n        return { ...column, header: \"단위공정\" };\n      }\n\n      if (column.id === \"start\") {\n        return {\n          ...column,\n          header: \"시작\",\n          width: START_COLUMN_WIDTH,\n          format: \"yyyy-MM-dd\",\n        };\n      }\n\n      if (column.id === \"end\") {\n        return {\n          ...column,\n          header: \"종료\",\n          width: START_COLUMN_WIDTH,\n          format: \"yyyy-MM-dd\",\n          template: (_: unknown, task: Record<string, any>) => formatDisplayEnd(task),\n        };\n      }\n\n      if (column.id === \"duration\") {\n        return {\n          ...column,\n          header: \"D\",\n          width: Math.round(START_COLUMN_WIDTH * 0.45),\n        };\n      }\n\n      return column;\n    });\n  }, []);\n\n  const scales = useMemo(() => TIME_SCALE_CONFIGS[viewType].scales, [viewType]);\n\n  const handleInit = (api: any) => {\n    initGantt(api);\n    setGanttApi(api);\n  };\n\n  // Toolbar 버튼 설정 - 한글화 및 아이콘 커스터마이징\n  const toolbarItems = useMemo(() => {\n    return defaultToolbarButtons.map((button) => {\n      if (button.id === \"add-task\") {\n        return { ...button, text: \"새 작업\", icon: button.icon }; // icon 속성으로 아이콘 지정\n      }\n      if (button.id === \"edit-task\") {\n        return { ...button, Text: \"편집\", icon: button.icon || \"wxi-edit\" }; // 아이콘 변경 가능\n      }\n      if (button.id === \"delete-task\") {\n        return { ...button, menuText: \"삭제\", icon: button.icon || \"wxi-delete\" };\n      }\n      if (button.id === \"move-task:up\") {\n        return { ...button, menuText: \"위로 이동\", icon: button.icon || \"wxi-angle-up\" };\n      }\n      if (button.id === \"move-task:down\") {\n        return { ...button, menuText: \"아래로 이동\", icon: button.icon || \"wxi-angle-down\" };\n      }\n      if (button.id === \"copy-task\") {\n        return { ...button, menuText: \"복사\", icon: button.icon || \"wxi-content-copy\" };\n      }\n      if (button.id === \"cut-task\") {\n        return { ...button, menuText: \"잘라내기\", icon: button.icon || \"wxi-content-cut\" };\n      }\n      if (button.id === \"paste-task\") {\n        return { ...button, menuText: \"붙여넣기\", icon: button.icon || \"wxi-content-paste\" };\n      }\n      if (button.id === \"indent-task:add\") {\n        return { ...button, menuText: \"들여쓰기\", icon: button.icon || \"wxi-indent\" };\n      }\n      if (button.id === \"indent-task:remove\") {\n        return { ...button, menuText: \"내어쓰기\", icon: button.icon || \"wxi-unindent\" };\n      }\n      return button; // 기본 아이콘 유지\n    });\n  }, []);\n\n  // Editor topBar 설정 - 아이콘 커스터마이징\n  const editorTopBar = useMemo(() => {\n    return {\n      items: [\n        { comp: \"button\", text: \"닫기\", id: \"close\" }, // 닫기 아이콘을 다른 것으로 변경하려면 여기 수정\n        { comp: \"spacer\", icon: \"\", id: \"spacer\" },\n        {\n          comp: \"button\",\n          type: \"danger\",\n          text: \"삭제\",\n          id: \"delete\",\n        },\n        {\n          comp: \"button\",\n          type: \"primary\",\n          text: \"저장\",\n          id: \"save\",\n        },\n      ],\n    };\n  }, []);\n\n  // 주말 및 공휴일 하이라이트 함수\n  const highlightTime = useCallback((date: Date, unit: string) => {\n    // day 단위일 때만 주말/공휴일 표시\n    if (unit === \"day\") {\n      if (isKoreanHoliday(date)) {\n        return \"wx-holiday\"; // 공휴일 스타일\n      }\n      if (isWeekend(date)) {\n        return \"wx-weekend\"; // 주말 스타일\n      }\n    }\n    return \"\";\n  }, []);\n\n  return (\n    <section className=\"flex flex-col h-full\">\n      <GanttControls\n        viewType={viewType}\n        onViewTypeChange={setViewType}\n        showBaselines={showBaselines}\n        onToggleBaselines={() => setShowBaselines((prev) => !prev)}\n        onSave={() => { void handleSave(); }}\n        hasChanges={hasChanges}\n        saveState={saveState}\n      />\n\n      {ganttApi && <Toolbar api={ganttApi} items={toolbarItems} />}\n\n      <div className=\"gantt-wrapper flex-1 relative\" role=\"group\" aria-label=\"프로젝트 간트 차트\">\n        {isLoading ? (\n          <div className=\"absolute inset-0 flex items-center justify-center bg-white bg-opacity-80 z-50\">\n            데이터를 불러오는 중...\n          </div>\n        ) : schedule ? (\n          <>\n            <ContextMenu api={ganttApi}>\n              <WillowTheme>\n                <Tooltip api={ganttApi ?? undefined} content={TaskTooltip}>\n                  <Gantt\n                    init={handleInit}\n                    tasks={schedule.tasks}\n                    links={schedule.links}\n                    scales={scales}\n                    columns={columns}\n                    taskTypes={TASK_TYPES}\n                    cellWidth={CELL_WIDTH_MAP[viewType]}\n                    cellHeight={CELL_HEIGHT}\n                    highlightTime={highlightTime}\n                    {...({ baselines: showBaselines } as any)}\n                  />\n                </Tooltip>\n              </WillowTheme>\n            </ContextMenu>\n            {ganttApi && (\n              <Editor\n                api={ganttApi}\n                items={editorItems}\n                topBar={editorTopBar}\n              />\n            )}\n          </>\n        ) : (\n          <div className=\"p-4 text-red-500\">\n            데이터를 불러오지 못했습니다.\n          </div>\n        )}\n      </div>\n    </section>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}