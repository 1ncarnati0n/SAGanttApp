{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/components/gantt/GanttControls.tsx"],"sourcesContent":["\"use client\";\n\nimport type { SaveState, ViewType } from \"./types\";\n\ninterface GanttControlsProps {\n  viewType: ViewType;\n  onViewTypeChange: (viewType: ViewType) => void;\n  showBaselines: boolean;\n  onToggleBaselines: () => void;\n  onSave: () => void;\n  hasChanges: boolean;\n  saveState: SaveState;\n}\n\nconst VIEW_OPTIONS: Array<{ id: ViewType; label: string }> = [\n  { id: \"day\", label: \"일\" },\n  { id: \"week\", label: \"주\" },\n  { id: \"month\", label: \"월\" },\n];\n\nexport function GanttControls({\n  viewType,\n  onViewTypeChange,\n  showBaselines,\n  onToggleBaselines,\n  onSave,\n  hasChanges,\n  saveState,\n}: GanttControlsProps) {\n  return (\n    <div className=\"p-2 bg-gray-100 flex items-center gap-2 rounded-md mb-2\">\n      {VIEW_OPTIONS.map((option) => (\n        <button\n          key={option.id}\n          type=\"button\"\n          onClick={() => onViewTypeChange(option.id)}\n          className={`px-3 py-1 rounded text-sm ${\n            viewType === option.id\n              ? \"bg-blue-500 text-white\"\n              : \"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"\n          }`}\n          aria-pressed={viewType === option.id}\n        >\n          {option.label}\n        </button>\n      ))}\n      <div className=\"h-6 w-px bg-gray-300 mx-2\" />\n      <button\n        type=\"button\"\n        onClick={onToggleBaselines}\n        className={`px-3 py-1 rounded text-sm ${\n          showBaselines\n            ? \"bg-gray-700 text-white\"\n            : \"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50\"\n        }`}\n        aria-pressed={showBaselines}\n      >\n        계획 일정 {showBaselines ? \"숨기기\" : \"표시\"}\n      </button>\n      <div className=\"flex-1\" />\n      <button\n        type=\"button\"\n        onClick={onSave}\n        disabled={!hasChanges || saveState === \"saving\"}\n        className={`px-4 py-1 rounded text-sm font-medium transition-colors ${\n          !hasChanges || saveState === \"saving\"\n            ? \"bg-gray-200 text-gray-400 cursor-not-allowed\"\n            : \"bg-green-600 text-white hover:bg-green-700\"\n        }`}\n        title={`hasChanges: ${hasChanges}, saveState: ${saveState}`}\n      >\n        {saveState === \"saving\" ? \"저장 중...\" : \"저장\"}\n      </button>\n      <span className=\"ml-2 text-sm text-gray-600\" role=\"status\">\n        {hasChanges && saveState === \"idle\" && \"변경 사항이 있습니다.\"}\n        {saveState === \"saved\" && \"저장되었습니다.\"}\n        {saveState === \"error\" && \"저장 실패.\"}\n      </span>\n    </div>\n  );\n}\n\n\n\n\n\n\n"],"names":[],"mappings":";;;;;AAAA;;AAcA,MAAM,eAAuD;IAC3D;QAAE,IAAI;QAAO,OAAO;IAAI;IACxB;QAAE,IAAI;QAAQ,OAAO;IAAI;IACzB;QAAE,IAAI;QAAS,OAAO;IAAI;CAC3B;AAEM,SAAS,cAAc,EAC5B,QAAQ,EACR,gBAAgB,EAChB,aAAa,EACb,iBAAiB,EACjB,MAAM,EACN,UAAU,EACV,SAAS,EACU;IACnB,qBACE,6LAAC;QAAI,WAAU;;YACZ,aAAa,GAAG,CAAC,CAAC,uBACjB,6LAAC;oBAEC,MAAK;oBACL,SAAS,IAAM,iBAAiB,OAAO,EAAE;oBACzC,WAAW,CAAC,0BAA0B,EACpC,aAAa,OAAO,EAAE,GAClB,2BACA,kEACJ;oBACF,gBAAc,aAAa,OAAO,EAAE;8BAEnC,OAAO,KAAK;mBAVR,OAAO,EAAE;;;;;0BAalB,6LAAC;gBAAI,WAAU;;;;;;0BACf,6LAAC;gBACC,MAAK;gBACL,SAAS;gBACT,WAAW,CAAC,0BAA0B,EACpC,gBACI,2BACA,kEACJ;gBACF,gBAAc;;oBACf;oBACQ,gBAAgB,QAAQ;;;;;;;0BAEjC,6LAAC;gBAAI,WAAU;;;;;;0BACf,6LAAC;gBACC,MAAK;gBACL,SAAS;gBACT,UAAU,CAAC,cAAc,cAAc;gBACvC,WAAW,CAAC,wDAAwD,EAClE,CAAC,cAAc,cAAc,WACzB,iDACA,8CACJ;gBACF,OAAO,CAAC,YAAY,EAAE,WAAW,aAAa,EAAE,WAAW;0BAE1D,cAAc,WAAW,YAAY;;;;;;0BAExC,6LAAC;gBAAK,WAAU;gBAA6B,MAAK;;oBAC/C,cAAc,cAAc,UAAU;oBACtC,cAAc,WAAW;oBACzB,cAAc,WAAW;;;;;;;;;;;;;AAIlC;KA5DgB"}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/components/gantt/WillowTheme.tsx"],"sourcesContent":["\"use client\";\n\nimport type { ReactNode } from \"react\";\nimport { Willow } from \"@svar-ui/react-gantt\";\n\nexport function WillowTheme({ children, fonts = true }: { children: ReactNode; fonts?: boolean }) {\n  return <Willow fonts={fonts}>{children}</Willow>;\n}\n\n\n\n\n\n\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAKO,SAAS,YAAY,EAAE,QAAQ,EAAE,QAAQ,IAAI,EAA4C;IAC9F,qBAAO,6LAAC,kMAAM;QAAC,OAAO;kBAAQ;;;;;;AAChC;KAFgB"}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/data/users.ts"],"sourcesContent":["export interface GanttUserOption {\n  id: string | number;\n  label: string;\n}\n\nexport const users: GanttUserOption[] = [\n  { id: 1, label: \"WJByun\" },\n  { id: 2, label: \"CBLee\" },\n  { id: 3, label: \"JMHong\" },\n  { id: 4, label: \"SMShin\" },\n];\n\n"],"names":[],"mappings":";;;;AAKO,MAAM,QAA2B;IACtC;QAAE,IAAI;QAAG,OAAO;IAAS;IACzB;QAAE,IAAI;QAAG,OAAO;IAAQ;IACxB;QAAE,IAAI;QAAG,OAAO;IAAS;IACzB;QAAE,IAAI;QAAG,OAAO;IAAS;CAC1B"}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/components/gantt/taskConfig.ts"],"sourcesContent":["import type { ViewType } from \"./types\";\n\nexport const TASK_TYPES = [\n  { id: \"task\", label: \"일반작업 종속\" },\n  { id: \"summary\", label: \"요약작업\" },\n  { id: \"milestone\", label: \"마일스톤\" },\n  { id: \"urgent\", label: \"일반작업 비종속\" },\n  { id: \"narrow\", label: \"간접작업\" },\n  { id: \"progress\", label: \"기타작업\" },\n  { id: \"round\", label: \"간접작업 종속\" },\n];\n\nexport const CELL_WIDTH_MAP: Record<ViewType, number> = {\n  day: 36,\n  week: 120,\n  month: 180,\n};\n\nexport const CELL_HEIGHT = 36;\n\n"],"names":[],"mappings":";;;;;;;;AAEO,MAAM,aAAa;IACxB;QAAE,IAAI;QAAQ,OAAO;IAAU;IAC/B;QAAE,IAAI;QAAW,OAAO;IAAO;IAC/B;QAAE,IAAI;QAAa,OAAO;IAAO;IACjC;QAAE,IAAI;QAAU,OAAO;IAAW;IAClC;QAAE,IAAI;QAAU,OAAO;IAAO;IAC9B;QAAE,IAAI;QAAY,OAAO;IAAO;IAChC;QAAE,IAAI;QAAS,OAAO;IAAU;CACjC;AAEM,MAAM,iBAA2C;IACtD,KAAK;IACL,MAAM;IACN,OAAO;AACT;AAEO,MAAM,cAAc"}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/components/gantt/editorItems.tsx"],"sourcesContent":["\"use client\";\n\nimport { Combo, RadioButtonGroup } from \"@svar-ui/react-core\";\nimport { defaultEditorItems, registerEditorItem } from \"@svar-ui/react-gantt\";\n\nimport { users, type GanttUserOption } from \"../../data/users\";\nimport { TASK_TYPES } from \"./taskConfig\";\n\ninterface AssignedComboProps {\n  value: string | number | undefined;\n  options: GanttUserOption[];\n  onChange: (payload: { value: string | number | undefined }) => void;\n}\n\nconst FIELD_OVERRIDES: Record<string, { label?: string; placeholder?: string }> = {\n  text: { label: \"작업명\", placeholder: \"작업 이름을 입력하세요\" },\n  details: { label: \"설명\", placeholder: \"세부 내용을 입력하세요\" },\n  type: { label: \"작업 유형\" },\n  start: { label: \"시작일\" },\n  end: { label: \"종료일\" },\n  progress: { label: \"진행율\" },\n  links: { label: \"연결 관계\" },\n};\n\nconst AssignedCombo = ({ value, options, onChange }: AssignedComboProps) => {\n  const renderOption = ({ option }: { option: GanttUserOption }) => <span>{option?.label ?? \"\"}</span>;\n  return (\n    <Combo\n      clear\n      options={options}\n      value={value}\n      onChange={onChange}\n      placeholder=\"담당자를 선택하세요\"\n    >\n      {renderOption as any}\n    </Combo>\n  );\n};\n\n// Ensure this runs on client only, though nextjs client components will handle it\nif (typeof window !== 'undefined') {\n    registerEditorItem(\"radio\", RadioButtonGroup);\n    registerEditorItem(\"assigned-combo\", AssignedCombo);\n}\n\nconst createEditorItems = () => {\n  const baseItems = defaultEditorItems\n    .filter((item) => item.key !== \"duration\")\n    .map((item) => {\n      const overrides = FIELD_OVERRIDES[item.key as string];\n      const next: Record<string, any> = { ...item };\n\n      // 각 필드에 고유 id 할당 (중복 id 방지)\n      if (!next.id && item.key) {\n        next.id = `editor-field-${item.key}`;\n      }\n\n      if (overrides?.label) {\n        next.label = overrides.label;\n      }\n\n      if (overrides?.placeholder) {\n        next.config = {\n          ...(next.config ?? {}),\n          placeholder: overrides.placeholder,\n        };\n      }\n\n      return next;\n    });\n\n  const typeIndex = baseItems.findIndex((item) => item.key === \"type\");\n\n  if (typeIndex !== -1) {\n    baseItems.splice(\n      typeIndex,\n      1,\n      {\n        key: \"type\",\n        id: \"task-type-field\",\n        comp: \"radio\",\n        label: FIELD_OVERRIDES.type?.label ?? \"작업 유형\",\n        options: TASK_TYPES.map(({ id, label }) => ({\n          id,\n          label,\n          value: id,\n        })),\n        config: {\n          type: \"inline\",\n        },\n      },\n      {\n        key: \"assigned\",\n        id: \"task-assigned-field\",\n        comp: \"assigned-combo\",\n        label: \"담당자\",\n        options: users,\n        config: {\n          placeholder: \"담당자를 선택하세요\",\n        },\n      },\n    );\n  }\n\n  return baseItems;\n};\n\nexport const editorItems = createEditorItems();\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAEA;AACA;AANA;;;;;;AAcA,MAAM,kBAA4E;IAChF,MAAM;QAAE,OAAO;QAAO,aAAa;IAAe;IAClD,SAAS;QAAE,OAAO;QAAM,aAAa;IAAe;IACpD,MAAM;QAAE,OAAO;IAAQ;IACvB,OAAO;QAAE,OAAO;IAAM;IACtB,KAAK;QAAE,OAAO;IAAM;IACpB,UAAU;QAAE,OAAO;IAAM;IACzB,OAAO;QAAE,OAAO;IAAQ;AAC1B;AAEA,MAAM,gBAAgB,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAsB;IACrE,MAAM,eAAe,CAAC,EAAE,MAAM,EAA+B,iBAAK,6LAAC;sBAAM,QAAQ,SAAS;;;;;;IAC1F,qBACE,6LAAC,gMAAK;QACJ,KAAK;QACL,SAAS;QACT,OAAO;QACP,UAAU;QACV,aAAY;kBAEX;;;;;;AAGP;KAbM;AAeN,kFAAkF;AAClF,wCAAmC;IAC/B,IAAA,+LAAkB,EAAC,SAAS,2MAAgB;IAC5C,IAAA,+LAAkB,EAAC,kBAAkB;AACzC;AAEA,MAAM,oBAAoB;IACxB,MAAM,YAAY,wLAAkB,CACjC,MAAM,CAAC,CAAC,OAAS,KAAK,GAAG,KAAK,YAC9B,GAAG,CAAC,CAAC;QACJ,MAAM,YAAY,eAAe,CAAC,KAAK,GAAG,CAAW;QACrD,MAAM,OAA4B;YAAE,GAAG,IAAI;QAAC;QAE5C,4BAA4B;QAC5B,IAAI,CAAC,KAAK,EAAE,IAAI,KAAK,GAAG,EAAE;YACxB,KAAK,EAAE,GAAG,CAAC,aAAa,EAAE,KAAK,GAAG,EAAE;QACtC;QAEA,IAAI,WAAW,OAAO;YACpB,KAAK,KAAK,GAAG,UAAU,KAAK;QAC9B;QAEA,IAAI,WAAW,aAAa;YAC1B,KAAK,MAAM,GAAG;gBACZ,GAAI,KAAK,MAAM,IAAI,CAAC,CAAC;gBACrB,aAAa,UAAU,WAAW;YACpC;QACF;QAEA,OAAO;IACT;IAEF,MAAM,YAAY,UAAU,SAAS,CAAC,CAAC,OAAS,KAAK,GAAG,KAAK;IAE7D,IAAI,cAAc,CAAC,GAAG;QACpB,UAAU,MAAM,CACd,WACA,GACA;YACE,KAAK;YACL,IAAI;YACJ,MAAM;YACN,OAAO,gBAAgB,IAAI,EAAE,SAAS;YACtC,SAAS,yJAAU,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,GAAK,CAAC;oBAC1C;oBACA;oBACA,OAAO;gBACT,CAAC;YACD,QAAQ;gBACN,MAAM;YACR;QACF,GACA;YACE,KAAK;YACL,IAAI;YACJ,MAAM;YACN,OAAO;YACP,SAAS,gIAAK;YACd,QAAQ;gBACN,aAAa;YACf;QACF;IAEJ;IAEA,OAAO;AACT;AAEO,MAAM,cAAc"}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/components/gantt/TaskTooltip.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC } from \"react\";\n\ninterface TaskTooltipProps {\n  data?: Record<string, unknown>;\n}\n\nconst dateFormatter = new Intl.DateTimeFormat(\"ko-KR\", {\n  year: \"numeric\",\n  month: \"2-digit\",\n  day: \"2-digit\",\n});\n\nconst formatDate = (value: unknown): string => {\n  const date = value instanceof Date ? value : new Date(value as string | number);\n  return Number.isNaN(date.getTime()) ? \"-\" : dateFormatter.format(date);\n};\n\nconst TaskTooltip: FC<TaskTooltipProps> = ({ data }) => {\n  if (!data) {\n    return null;\n  }\n\n  const isMilestone = data.type === \"milestone\";\n  const progress =\n    typeof data.progress === \"number\" && Number.isFinite(data.progress)\n      ? `${Math.round(data.progress)}%`\n      : null;\n  const exclusiveEnd = data.end instanceof Date ? data.end : data.end ? new Date(data.end as string) : undefined;\n  const startDate = data.start instanceof Date ? data.start : data.start ? new Date(data.start as string) : undefined;\n  let inclusiveEnd: Date | undefined;\n  if (exclusiveEnd && !Number.isNaN(exclusiveEnd.getTime())) {\n    inclusiveEnd = new Date(exclusiveEnd.getTime() - 24 * 60 * 60 * 1000);\n    if (startDate && !Number.isNaN(startDate.getTime()) && inclusiveEnd < startDate) {\n      inclusiveEnd = new Date(startDate);\n    }\n  }\n\n  return (\n    <div className=\"wx-task-tooltip\">\n      <div className=\"tooltip-header\">\n        {String(data.text ?? \"작업 상세\")}\n      </div>\n\n      <div className=\"tooltip-row\">\n        <span className=\"tooltip-label\">유형</span>\n        <span className=\"tooltip-value\">{String(data.type ?? \"일반\")}</span>\n      </div>\n\n      <div className=\"tooltip-row\">\n        <span className=\"tooltip-label\">기간</span>\n        <span className=\"tooltip-value\">\n          {formatDate(data.start)} ~ {isMilestone ? \"\" : formatDate(inclusiveEnd)}\n        </span>\n      </div>\n\n      {progress && (\n        <div className=\"tooltip-row\">\n          <span className=\"tooltip-label\">진행률</span>\n          <span className=\"tooltip-value\" style={{ color: \"var(--color-primary)\" }}>\n            {progress}\n          </span>\n        </div>\n      )}\n\n      {/* 담당자 정보가 있다면 표시 (예시) */}\n      {!!data.assigned && (\n        <div className=\"tooltip-row\">\n          <span className=\"tooltip-label\">담당자</span>\n          <span className=\"tooltip-value\">{String(data.assigned)}</span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TaskTooltip;\n\n"],"names":[],"mappings":";;;;;AAAA;;AAQA,MAAM,gBAAgB,IAAI,KAAK,cAAc,CAAC,SAAS;IACrD,MAAM;IACN,OAAO;IACP,KAAK;AACP;AAEA,MAAM,aAAa,CAAC;IAClB,MAAM,OAAO,iBAAiB,OAAO,QAAQ,IAAI,KAAK;IACtD,OAAO,OAAO,KAAK,CAAC,KAAK,OAAO,MAAM,MAAM,cAAc,MAAM,CAAC;AACnE;AAEA,MAAM,cAAoC,CAAC,EAAE,IAAI,EAAE;IACjD,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,MAAM,cAAc,KAAK,IAAI,KAAK;IAClC,MAAM,WACJ,OAAO,KAAK,QAAQ,KAAK,YAAY,OAAO,QAAQ,CAAC,KAAK,QAAQ,IAC9D,GAAG,KAAK,KAAK,CAAC,KAAK,QAAQ,EAAE,CAAC,CAAC,GAC/B;IACN,MAAM,eAAe,KAAK,GAAG,YAAY,OAAO,KAAK,GAAG,GAAG,KAAK,GAAG,GAAG,IAAI,KAAK,KAAK,GAAG,IAAc;IACrG,MAAM,YAAY,KAAK,KAAK,YAAY,OAAO,KAAK,KAAK,GAAG,KAAK,KAAK,GAAG,IAAI,KAAK,KAAK,KAAK,IAAc;IAC1G,IAAI;IACJ,IAAI,gBAAgB,CAAC,OAAO,KAAK,CAAC,aAAa,OAAO,KAAK;QACzD,eAAe,IAAI,KAAK,aAAa,OAAO,KAAK,KAAK,KAAK,KAAK;QAChE,IAAI,aAAa,CAAC,OAAO,KAAK,CAAC,UAAU,OAAO,OAAO,eAAe,WAAW;YAC/E,eAAe,IAAI,KAAK;QAC1B;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACZ,OAAO,KAAK,IAAI,IAAI;;;;;;0BAGvB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAU;kCAAgB;;;;;;kCAChC,6LAAC;wBAAK,WAAU;kCAAiB,OAAO,KAAK,IAAI,IAAI;;;;;;;;;;;;0BAGvD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAU;kCAAgB;;;;;;kCAChC,6LAAC;wBAAK,WAAU;;4BACb,WAAW,KAAK,KAAK;4BAAE;4BAAI,cAAc,KAAK,WAAW;;;;;;;;;;;;;YAI7D,0BACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAU;kCAAgB;;;;;;kCAChC,6LAAC;wBAAK,WAAU;wBAAgB,OAAO;4BAAE,OAAO;wBAAuB;kCACpE;;;;;;;;;;;;YAMN,CAAC,CAAC,KAAK,QAAQ,kBACd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAU;kCAAgB;;;;;;kCAChC,6LAAC;wBAAK,WAAU;kCAAiB,OAAO,KAAK,QAAQ;;;;;;;;;;;;;;;;;;AAK/D;KAxDM;uCA0DS"}},
    {"offset": {"line": 513, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/lib/gantt/hooks/useGanttData.ts"],"sourcesContent":["/**\n * useGanttData Hook\n * Gantt 데이터 로딩, 저장, 동기화를 담당합니다.\n */\n\nimport { useState, useCallback, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { decorateTask } from \"../utils/decorators\";\nimport { serializeSchedule } from \"../utils/serializers\";\nimport type { Schedule, SaveState, Task, Link, GanttApi } from \"../types\";\n\ninterface UseGanttDataResult {\n  schedule: Schedule | null;\n  isLoading: boolean;\n  saveState: SaveState;\n  hasChanges: boolean;\n  handleSave: () => Promise<void>;\n  syncFromApi: () => void;\n  markAsChanged: () => void;\n}\n\nexport function useGanttData(apiRef: React.MutableRefObject<GanttApi | null>): UseGanttDataResult {\n  const currentTasksRef = useRef<Task[]>([]);\n  const currentLinksRef = useRef<Link[]>([]);\n  const scalesRef = useRef<Array<Record<string, unknown>>>([]);\n\n  const [schedule, setSchedule] = useState<Schedule | null>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [saveState, setSaveState] = useState<SaveState>(\"idle\");\n  const [hasChanges, setHasChanges] = useState<boolean>(false);\n\n  /**\n   * 변경사항 표시\n   */\n  const markAsChanged = useCallback(() => {\n    setHasChanges(true);\n    setSaveState((prev) => (prev === \"saved\" ? \"idle\" : prev));\n  }, []);\n\n  /**\n   * API로부터 데이터 동기화\n   */\n  const syncFromApi = useCallback(() => {\n    const api = apiRef.current;\n    if (!api) {\n      return;\n    }\n\n    let rawTasks: Array<Partial<Task>> = [];\n    try {\n      const serialized = typeof api.serialize === \"function\" ? api.serialize() : [];\n      if (Array.isArray(serialized)) {\n        rawTasks = serialized as Array<Partial<Task>>;\n      }\n    } catch (error) {\n      console.warn(\"Failed to serialize tasks from API:\", error);\n    }\n\n    const decoratedTasks = rawTasks.map((task) => decorateTask(task));\n\n    let links = currentLinksRef.current;\n    try {\n      const stores = typeof api.getStores === \"function\" ? api.getStores() : null;\n      const dataStore = stores?.data;\n      const state = dataStore?.getState ? dataStore.getState() : null;\n      if (state?.links) {\n        links = state.links.map((link) => ({ ...link })) as Link[];\n      }\n    } catch (error) {\n      console.warn(\"Failed to extract links from API:\", error);\n    }\n\n    currentTasksRef.current = decoratedTasks;\n    currentLinksRef.current = links;\n\n    setSchedule((prev) =>\n      prev\n        ? {\n            ...prev,\n            tasks: decoratedTasks,\n            links,\n          }\n        : prev\n    );\n  }, [apiRef]);\n\n  /**\n   * 데이터 저장\n   */\n  const handleSave = useCallback(async () => {\n    const api = apiRef.current;\n    if (!api) {\n      console.error(\"Gantt API is not ready\");\n      return;\n    }\n\n    try {\n      setSaveState(\"saving\");\n      syncFromApi();\n\n      const tasksToSave = currentTasksRef.current;\n      if (tasksToSave.length === 0) {\n        throw new Error(\"No tasks to save\");\n      }\n\n      let linksToSave = currentLinksRef.current;\n      try {\n        const stores = typeof api.getStores === \"function\" ? api.getStores() : null;\n        const dataStore = stores?.data;\n        const state = dataStore?.getState ? dataStore.getState() : null;\n        if (state?.links) {\n          linksToSave = state.links.map((link) => ({ ...link })) as Link[];\n          currentLinksRef.current = linksToSave;\n        }\n      } catch (error) {\n        console.warn(\"Falling back to cached links while saving:\", error);\n      }\n\n      const payload = serializeSchedule(\n        tasksToSave,\n        linksToSave,\n        (schedule?.scales ?? scalesRef.current) as Array<Record<string, unknown>>\n      );\n\n      // API call to Next.js route\n      await axios.post(\"/api/mock\", payload, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      setSaveState(\"saved\");\n      setHasChanges(false);\n      window.setTimeout(() => {\n        setSaveState(\"idle\");\n      }, 1500);\n    } catch (error) {\n      console.error(\"Save error:\", error);\n      setSaveState(\"error\");\n      alert(\"저장 중 오류가 발생했습니다: \" + (error as Error).message);\n    }\n  }, [apiRef, schedule?.scales, syncFromApi]);\n\n  /**\n   * 초기 데이터 로딩\n   */\n  useEffect(() => {\n    let isMounted = true;\n\n    const loadData = async () => {\n      setIsLoading(true);\n\n      try {\n        // API call to Next.js route\n        const response = await axios.get(\"/api/mock\");\n        const data = response.data;\n        if (!isMounted) {\n          return;\n        }\n\n        const tasks = (data.tasks ?? []).map((task: unknown) => decorateTask(task as Partial<Task>));\n        const links = (data.links ?? []).map((link: unknown) => link as Link);\n        const scales = (data.scales ?? []).map((scale: unknown) => scale as Record<string, unknown>);\n\n        scalesRef.current = scales;\n        currentTasksRef.current = tasks;\n        currentLinksRef.current = links;\n\n        setSchedule({ tasks, links, scales });\n        setHasChanges(false);\n        setSaveState(\"idle\");\n      } catch (error) {\n        console.error(\"Error loading data:\", error);\n        if (isMounted) {\n          setSchedule(null);\n        }\n      } finally {\n        if (isMounted) {\n          setIsLoading(false);\n        }\n      }\n    };\n\n    void loadData();\n\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n\n  return {\n    schedule,\n    isLoading,\n    saveState,\n    hasChanges,\n    handleSave,\n    syncFromApi,\n    markAsChanged,\n  };\n}\n\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAED;AACA;AACA;AACA;;;;;;AAaO,SAAS,aAAa,MAA+C;;IAC1E,MAAM,kBAAkB,IAAA,uKAAM,EAAS,EAAE;IACzC,MAAM,kBAAkB,IAAA,uKAAM,EAAS,EAAE;IACzC,MAAM,YAAY,IAAA,uKAAM,EAAiC,EAAE;IAE3D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAkB;IAC1D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAU;IACpD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAY;IACtD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAU;IAEtD;;GAEC,GACD,MAAM,gBAAgB,IAAA,4KAAW;mDAAC;YAChC,cAAc;YACd;2DAAa,CAAC,OAAU,SAAS,UAAU,SAAS;;QACtD;kDAAG,EAAE;IAEL;;GAEC,GACD,MAAM,cAAc,IAAA,4KAAW;iDAAC;YAC9B,MAAM,MAAM,OAAO,OAAO;YAC1B,IAAI,CAAC,KAAK;gBACR;YACF;YAEA,IAAI,WAAiC,EAAE;YACvC,IAAI;gBACF,MAAM,aAAa,OAAO,IAAI,SAAS,KAAK,aAAa,IAAI,SAAS,KAAK,EAAE;gBAC7E,IAAI,MAAM,OAAO,CAAC,aAAa;oBAC7B,WAAW;gBACb;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,IAAI,CAAC,uCAAuC;YACtD;YAEA,MAAM,iBAAiB,SAAS,GAAG;wEAAC,CAAC,OAAS,IAAA,6JAAY,EAAC;;YAE3D,IAAI,QAAQ,gBAAgB,OAAO;YACnC,IAAI;gBACF,MAAM,SAAS,OAAO,IAAI,SAAS,KAAK,aAAa,IAAI,SAAS,KAAK;gBACvE,MAAM,YAAY,QAAQ;gBAC1B,MAAM,QAAQ,WAAW,WAAW,UAAU,QAAQ,KAAK;gBAC3D,IAAI,OAAO,OAAO;oBAChB,QAAQ,MAAM,KAAK,CAAC,GAAG;iEAAC,CAAC,OAAS,CAAC;gCAAE,GAAG,IAAI;4BAAC,CAAC;;gBAChD;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,IAAI,CAAC,qCAAqC;YACpD;YAEA,gBAAgB,OAAO,GAAG;YAC1B,gBAAgB,OAAO,GAAG;YAE1B;yDAAY,CAAC,OACX,OACI;wBACE,GAAG,IAAI;wBACP,OAAO;wBACP;oBACF,IACA;;QAER;gDAAG;QAAC;KAAO;IAEX;;GAEC,GACD,MAAM,aAAa,IAAA,4KAAW;gDAAC;YAC7B,MAAM,MAAM,OAAO,OAAO;YAC1B,IAAI,CAAC,KAAK;gBACR,QAAQ,KAAK,CAAC;gBACd;YACF;YAEA,IAAI;gBACF,aAAa;gBACb;gBAEA,MAAM,cAAc,gBAAgB,OAAO;gBAC3C,IAAI,YAAY,MAAM,KAAK,GAAG;oBAC5B,MAAM,IAAI,MAAM;gBAClB;gBAEA,IAAI,cAAc,gBAAgB,OAAO;gBACzC,IAAI;oBACF,MAAM,SAAS,OAAO,IAAI,SAAS,KAAK,aAAa,IAAI,SAAS,KAAK;oBACvE,MAAM,YAAY,QAAQ;oBAC1B,MAAM,QAAQ,WAAW,WAAW,UAAU,QAAQ,KAAK;oBAC3D,IAAI,OAAO,OAAO;wBAChB,cAAc,MAAM,KAAK,CAAC,GAAG;oEAAC,CAAC,OAAS,CAAC;oCAAE,GAAG,IAAI;gCAAC,CAAC;;wBACpD,gBAAgB,OAAO,GAAG;oBAC5B;gBACF,EAAE,OAAO,OAAO;oBACd,QAAQ,IAAI,CAAC,8CAA8C;gBAC7D;gBAEA,MAAM,UAAU,IAAA,mKAAiB,EAC/B,aACA,aACC,UAAU,UAAU,UAAU,OAAO;gBAGxC,4BAA4B;gBAC5B,MAAM,mJAAK,CAAC,IAAI,CAAC,aAAa,SAAS;oBACrC,SAAS;wBACP,gBAAgB;oBAClB;gBACF;gBAEA,aAAa;gBACb,cAAc;gBACd,OAAO,UAAU;4DAAC;wBAChB,aAAa;oBACf;2DAAG;YACL,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,eAAe;gBAC7B,aAAa;gBACb,MAAM,sBAAsB,AAAC,MAAgB,OAAO;YACtD;QACF;+CAAG;QAAC;QAAQ,UAAU;QAAQ;KAAY;IAE1C;;GAEC,GACD,IAAA,0KAAS;kCAAC;YACR,IAAI,YAAY;YAEhB,MAAM;mDAAW;oBACf,aAAa;oBAEb,IAAI;wBACF,4BAA4B;wBAC5B,MAAM,WAAW,MAAM,mJAAK,CAAC,GAAG,CAAC;wBACjC,MAAM,OAAO,SAAS,IAAI;wBAC1B,IAAI,CAAC,WAAW;4BACd;wBACF;wBAEA,MAAM,QAAQ,CAAC,KAAK,KAAK,IAAI,EAAE,EAAE,GAAG;qEAAC,CAAC,OAAkB,IAAA,6JAAY,EAAC;;wBACrE,MAAM,QAAQ,CAAC,KAAK,KAAK,IAAI,EAAE,EAAE,GAAG;qEAAC,CAAC,OAAkB;;wBACxD,MAAM,SAAS,CAAC,KAAK,MAAM,IAAI,EAAE,EAAE,GAAG;sEAAC,CAAC,QAAmB;;wBAE3D,UAAU,OAAO,GAAG;wBACpB,gBAAgB,OAAO,GAAG;wBAC1B,gBAAgB,OAAO,GAAG;wBAE1B,YAAY;4BAAE;4BAAO;4BAAO;wBAAO;wBACnC,cAAc;wBACd,aAAa;oBACf,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,uBAAuB;wBACrC,IAAI,WAAW;4BACb,YAAY;wBACd;oBACF,SAAU;wBACR,IAAI,WAAW;4BACb,aAAa;wBACf;oBACF;gBACF;;YAEA,KAAK;YAEL;0CAAO;oBACL,YAAY;gBACd;;QACF;iCAAG,EAAE;IAEL,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;GAlLgB"}},
    {"offset": {"line": 725, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/lib/gantt/constants.ts"],"sourcesContent":["/**\n * Gantt Constants\n */\n\nimport type { TaskType } from \"./types\";\n\n/**\n * Event tags for detaching listeners\n */\nexport const SYNC_EVENT_TAG = Symbol(\"gantt-sync-listener\");\nexport const UI_EVENT_TAG = Symbol(\"gantt-ui-handlers\");\nexport const SUMMARY_EVENT_TAG = Symbol(\"gantt-summary-progress\");\n\n/**\n * Time constants\n */\nexport const MS_PER_DAY = 24 * 60 * 60 * 1000;\nexport const MS_PER_HOUR = 60 * 60 * 1000;\nexport const MS_PER_MINUTE = 60 * 1000;\n\n/**\n * Task type definitions with labels\n */\nexport const TASK_TYPES: Array<{ id: TaskType; label: string }> = [\n  { id: \"task\", label: \"일반작업 종속\" },\n  { id: \"summary\", label: \"요약작업\" },\n  { id: \"milestone\", label: \"마일스톤\" },\n  { id: \"urgent\", label: \"일반작업 비종속\" },\n  { id: \"narrow\", label: \"간접작업\" },\n  { id: \"progress\", label: \"기타작업\" },\n  { id: \"round\", label: \"간접작업 종속\" },\n];\n\n/**\n * View type configurations\n */\nexport const VIEW_TYPES = {\n  day: { id: \"day\" as const, label: \"일\", cellWidth: 36 },\n  week: { id: \"week\" as const, label: \"주\", cellWidth: 120 },\n  month: { id: \"month\" as const, label: \"월\", cellWidth: 180 },\n};\n\n/**\n * Cell dimensions\n */\nexport const CELL_HEIGHT = 36;\nexport const CELL_WIDTH_MAP = {\n  day: 36,\n  week: 120,\n  month: 180,\n} as const;\n\n/**\n * Column widths\n */\nexport const COLUMN_WIDTHS = {\n  start: 100,\n  end: 100,\n  duration: 45,\n} as const;\n\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;;;;;;;;;;;;;AAOM,MAAM,iBAAiB,OAAO;AAC9B,MAAM,eAAe,OAAO;AAC5B,MAAM,oBAAoB,OAAO;AAKjC,MAAM,aAAa,KAAK,KAAK,KAAK;AAClC,MAAM,cAAc,KAAK,KAAK;AAC9B,MAAM,gBAAgB,KAAK;AAK3B,MAAM,aAAqD;IAChE;QAAE,IAAI;QAAQ,OAAO;IAAU;IAC/B;QAAE,IAAI;QAAW,OAAO;IAAO;IAC/B;QAAE,IAAI;QAAa,OAAO;IAAO;IACjC;QAAE,IAAI;QAAU,OAAO;IAAW;IAClC;QAAE,IAAI;QAAU,OAAO;IAAO;IAC9B;QAAE,IAAI;QAAY,OAAO;IAAO;IAChC;QAAE,IAAI;QAAS,OAAO;IAAU;CACjC;AAKM,MAAM,aAAa;IACxB,KAAK;QAAE,IAAI;QAAgB,OAAO;QAAK,WAAW;IAAG;IACrD,MAAM;QAAE,IAAI;QAAiB,OAAO;QAAK,WAAW;IAAI;IACxD,OAAO;QAAE,IAAI;QAAkB,OAAO;QAAK,WAAW;IAAI;AAC5D;AAKO,MAAM,cAAc;AACpB,MAAM,iBAAiB;IAC5B,KAAK;IACL,MAAM;IACN,OAAO;AACT;AAKO,MAAM,gBAAgB;IAC3B,OAAO;IACP,KAAK;IACL,UAAU;AACZ"}},
    {"offset": {"line": 822, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/lib/gantt/hooks/useGanttEvents.ts"],"sourcesContent":["/**\n * useGanttEvents Hook\n * Gantt 이벤트 리스너를 관리합니다.\n */\n\nimport { useCallback } from \"react\";\nimport { SYNC_EVENT_TAG, UI_EVENT_TAG, SUMMARY_EVENT_TAG } from \"../constants\";\nimport type { GanttApi, TaskEvent, TaskId } from \"../types\";\n\ninterface UseGanttEventsProps {\n  onDataChange?: () => void;\n  onMarkChanged?: () => void;\n  recalcSummaryProgress?: (taskId: TaskId, treatAsSummary?: boolean) => void;\n}\n\nexport function useGanttEvents({\n  onDataChange,\n  onMarkChanged,\n  recalcSummaryProgress,\n}: UseGanttEventsProps) {\n  /**\n   * 데이터 변경 이벤트 리스너 등록\n   */\n  const attachDataListeners = useCallback(\n    (api: GanttApi) => {\n      // Remove existing listeners\n      api.detach(SYNC_EVENT_TAG);\n\n      const events = [\n        \"add-task\",\n        \"update-task\",\n        \"delete-task\",\n        \"move-task\",\n        \"copy-task\",\n        \"indent-task\",\n        \"add-link\",\n        \"update-link\",\n        \"delete-link\",\n      ];\n\n      events.forEach((eventName) => {\n        api.on(\n          eventName,\n          (payload: unknown) => {\n            const event = payload as TaskEvent;\n            // Skip in-progress updates (e.g., progress bar dragging)\n            if (event?.inProgress) {\n              return;\n            }\n            onDataChange?.();\n            onMarkChanged?.();\n          },\n          { tag: SYNC_EVENT_TAG }\n        );\n      });\n    },\n    [onDataChange, onMarkChanged]\n  );\n\n  /**\n   * Summary task 진행률 자동 업데이트 리스너 등록\n   */\n  const attachSummaryListeners = useCallback(\n    (api: GanttApi) => {\n      if (!recalcSummaryProgress) {\n        return;\n      }\n\n      // Remove existing listeners\n      api.detach(SUMMARY_EVENT_TAG);\n\n      const registerSummaryHandler = (action: string, handler: (payload: unknown) => void) => {\n        api.on(action, handler, { tag: SUMMARY_EVENT_TAG });\n      };\n\n      registerSummaryHandler(\"add-task\", (payload) => {\n        const { id } = payload as TaskEvent;\n        recalcSummaryProgress(id);\n      });\n\n      registerSummaryHandler(\"update-task\", (payload) => {\n        const event = payload as TaskEvent;\n        if (event?.inProgress) {\n          return;\n        }\n        recalcSummaryProgress(event.id);\n      });\n\n      registerSummaryHandler(\"copy-task\", (payload) => {\n        const { id } = payload as TaskEvent;\n        recalcSummaryProgress(id);\n      });\n\n      registerSummaryHandler(\"delete-task\", (payload) => {\n        const { source } = payload as TaskEvent;\n        if (source !== undefined && source !== null) {\n          recalcSummaryProgress(source, true);\n        }\n      });\n\n      registerSummaryHandler(\"move-task\", (payload) => {\n        const event = payload as TaskEvent;\n        if (event?.inProgress) {\n          return;\n        }\n        recalcSummaryProgress(event.id);\n        if (event?.source !== undefined && event?.source !== null) {\n          recalcSummaryProgress(event.source, true);\n        }\n      });\n    },\n    [recalcSummaryProgress]\n  );\n\n  /**\n   * UI 이벤트 리스너 등록 (예: 작업 추가 시 에디터 열기)\n   */\n  const attachUIListeners = useCallback((api: GanttApi) => {\n    // Remove existing listeners\n    api.detach(UI_EVENT_TAG);\n\n    // Open editor when a new task is added\n    api.on(\n      \"add-task\",\n      (payload: unknown) => {\n        const { id } = payload as { id: string | number };\n        api.exec(\"show-editor\", { id });\n      },\n      { tag: UI_EVENT_TAG }\n    );\n  }, []);\n\n  /**\n   * 모든 이벤트 리스너 제거\n   */\n  const detachAllListeners = useCallback((api: GanttApi | null) => {\n    if (!api) {\n      return;\n    }\n    api.detach(SYNC_EVENT_TAG);\n    api.detach(UI_EVENT_TAG);\n    api.detach(SUMMARY_EVENT_TAG);\n  }, []);\n\n  return {\n    attachDataListeners,\n    attachSummaryListeners,\n    attachUIListeners,\n    detachAllListeners,\n  };\n}\n\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAED;AACA;;;;AASO,SAAS,eAAe,EAC7B,YAAY,EACZ,aAAa,EACb,qBAAqB,EACD;;IACpB;;GAEC,GACD,MAAM,sBAAsB,IAAA,4KAAW;2DACrC,CAAC;YACC,4BAA4B;YAC5B,IAAI,MAAM,CAAC,qJAAc;YAEzB,MAAM,SAAS;gBACb;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACD;YAED,OAAO,OAAO;mEAAC,CAAC;oBACd,IAAI,EAAE,CACJ;2EACA,CAAC;4BACC,MAAM,QAAQ;4BACd,yDAAyD;4BACzD,IAAI,OAAO,YAAY;gCACrB;4BACF;4BACA;4BACA;wBACF;0EACA;wBAAE,KAAK,qJAAc;oBAAC;gBAE1B;;QACF;0DACA;QAAC;QAAc;KAAc;IAG/B;;GAEC,GACD,MAAM,yBAAyB,IAAA,4KAAW;8DACxC,CAAC;YACC,IAAI,CAAC,uBAAuB;gBAC1B;YACF;YAEA,4BAA4B;YAC5B,IAAI,MAAM,CAAC,wJAAiB;YAE5B,MAAM;6FAAyB,CAAC,QAAgB;oBAC9C,IAAI,EAAE,CAAC,QAAQ,SAAS;wBAAE,KAAK,wJAAiB;oBAAC;gBACnD;;YAEA,uBAAuB;sEAAY,CAAC;oBAClC,MAAM,EAAE,EAAE,EAAE,GAAG;oBACf,sBAAsB;gBACxB;;YAEA,uBAAuB;sEAAe,CAAC;oBACrC,MAAM,QAAQ;oBACd,IAAI,OAAO,YAAY;wBACrB;oBACF;oBACA,sBAAsB,MAAM,EAAE;gBAChC;;YAEA,uBAAuB;sEAAa,CAAC;oBACnC,MAAM,EAAE,EAAE,EAAE,GAAG;oBACf,sBAAsB;gBACxB;;YAEA,uBAAuB;sEAAe,CAAC;oBACrC,MAAM,EAAE,MAAM,EAAE,GAAG;oBACnB,IAAI,WAAW,aAAa,WAAW,MAAM;wBAC3C,sBAAsB,QAAQ;oBAChC;gBACF;;YAEA,uBAAuB;sEAAa,CAAC;oBACnC,MAAM,QAAQ;oBACd,IAAI,OAAO,YAAY;wBACrB;oBACF;oBACA,sBAAsB,MAAM,EAAE;oBAC9B,IAAI,OAAO,WAAW,aAAa,OAAO,WAAW,MAAM;wBACzD,sBAAsB,MAAM,MAAM,EAAE;oBACtC;gBACF;;QACF;6DACA;QAAC;KAAsB;IAGzB;;GAEC,GACD,MAAM,oBAAoB,IAAA,4KAAW;yDAAC,CAAC;YACrC,4BAA4B;YAC5B,IAAI,MAAM,CAAC,mJAAY;YAEvB,uCAAuC;YACvC,IAAI,EAAE,CACJ;iEACA,CAAC;oBACC,MAAM,EAAE,EAAE,EAAE,GAAG;oBACf,IAAI,IAAI,CAAC,eAAe;wBAAE;oBAAG;gBAC/B;gEACA;gBAAE,KAAK,mJAAY;YAAC;QAExB;wDAAG,EAAE;IAEL;;GAEC,GACD,MAAM,qBAAqB,IAAA,4KAAW;0DAAC,CAAC;YACtC,IAAI,CAAC,KAAK;gBACR;YACF;YACA,IAAI,MAAM,CAAC,qJAAc;YACzB,IAAI,MAAM,CAAC,mJAAY;YACvB,IAAI,MAAM,CAAC,wJAAiB;QAC9B;yDAAG,EAAE;IAEL,OAAO;QACL;QACA;QACA;QACA;IACF;AACF;GAvIgB"}},
    {"offset": {"line": 982, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/lib/gantt/hooks/useSummaryProgress.ts"],"sourcesContent":["/**\n * useSummaryProgress Hook\n * Summary task의 진행률을 자동으로 계산하고 업데이트합니다.\n */\n\nimport { useCallback } from \"react\";\nimport { calculateTaskDuration, clamp } from \"../utils/taskCalculations\";\nimport type { GanttApi, TaskId, Task } from \"../types\";\n\nexport function useSummaryProgress(apiRef: React.MutableRefObject<GanttApi | null>) {\n  /**\n   * Summary task의 진행률을 자식 task들의 가중 평균으로 계산\n   */\n  const getSummaryProgress = useCallback((summaryId: TaskId): number => {\n    const api = apiRef.current;\n    if (!api) {\n      return 0;\n    }\n\n    const collect = (taskId: TaskId): [number, number] => {\n      const task = api.getTask(taskId);\n      const children = task?.data;\n\n      if (!children || !children.length) {\n        return [0, 0];\n      }\n\n      let totalProgress = 0;\n      let totalDuration = 0;\n\n      children.forEach((child: Task) => {\n        const childTask = api.getTask(child.id);\n        if (!childTask) {\n          return;\n        }\n\n        // Skip milestones and summary tasks for direct progress calculation\n        if (childTask.type !== \"milestone\" && childTask.type !== \"summary\") {\n          const duration = calculateTaskDuration(childTask);\n          if (duration > 0) {\n            const progressValue =\n              typeof childTask.progress === \"number\"\n                ? childTask.progress\n                : Number(childTask.progress ?? 0);\n            const boundedProgress = Number.isFinite(progressValue)\n              ? clamp(progressValue, 0, 100)\n              : 0;\n            totalDuration += duration;\n            totalProgress += duration * boundedProgress;\n          }\n        }\n\n        // Recursively collect from nested summary tasks\n        const [childProgress, childDuration] = collect(childTask.id);\n        totalProgress += childProgress;\n        totalDuration += childDuration;\n      });\n\n      return [totalProgress, totalDuration];\n    };\n\n    const [totalProgress, totalDuration] = collect(summaryId);\n    if (!totalDuration) {\n      return 0;\n    }\n\n    const average = totalProgress / totalDuration;\n    if (!Number.isFinite(average)) {\n      return 0;\n    }\n\n    const rounded = Math.round(average);\n    return clamp(rounded, 0, 100);\n  }, [apiRef]);\n\n  /**\n   * Summary task의 진행률을 다시 계산하고 업데이트\n   */\n  const recalcSummaryProgress = useCallback(\n    (taskId: TaskId, treatAsSummary = false) => {\n      const api = apiRef.current;\n      if (!api) {\n        return;\n      }\n\n      if (taskId === undefined || taskId === null) {\n        return;\n      }\n\n      const task = api.getTask(taskId);\n      if (!task || task.type === \"milestone\") {\n        return;\n      }\n\n      const state = api.getState?.();\n      const tasksStore = state?.tasks;\n\n      // Get the summary ID (either this task if it's a summary, or its parent summary)\n      const summaryId =\n        treatAsSummary && task.type === \"summary\"\n          ? taskId\n          : tasksStore?.getSummaryId?.(taskId);\n\n      if (!summaryId) {\n        return;\n      }\n\n      const summaryTask = api.getTask(summaryId);\n      if (!summaryTask) {\n        return;\n      }\n\n      const nextProgress = getSummaryProgress(summaryId);\n      const currentProgress =\n        typeof summaryTask.progress === \"number\"\n          ? summaryTask.progress\n          : Number(summaryTask.progress ?? 0);\n\n      if (!Number.isFinite(nextProgress) || nextProgress === currentProgress) {\n        return;\n      }\n\n      api.exec(\"update-task\", {\n        id: summaryId,\n        task: { progress: nextProgress },\n      });\n    },\n    [apiRef, getSummaryProgress]\n  );\n\n  /**\n   * 모든 Summary task의 진행률을 재계산\n   */\n  const recalcAllSummaryTasks = useCallback(() => {\n    const api = apiRef.current;\n    if (!api) {\n      return;\n    }\n\n    try {\n      const state = api.getState?.();\n      const tasksStore = state?.tasks;\n      tasksStore?.forEach?.((task: Task) => {\n        if (task.type === \"summary\") {\n          recalcSummaryProgress(task.id, true);\n        }\n      });\n    } catch (error) {\n      console.warn(\"Failed to recalculate summary progress:\", error);\n    }\n  }, [apiRef, recalcSummaryProgress]);\n\n  return {\n    getSummaryProgress,\n    recalcSummaryProgress,\n    recalcAllSummaryTasks,\n  };\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1140, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/lib/gantt/hooks/useGanttSchedule.ts"],"sourcesContent":["/**\n * useGanttSchedule Hook (Orchestrator)\n * 모든 Gantt 관련 hooks를 통합하여 관리합니다.\n */\n\nimport { useRef, useCallback } from \"react\";\nimport { useGanttData } from \"./useGanttData\";\nimport { useGanttEvents } from \"./useGanttEvents\";\nimport { useSummaryProgress } from \"./useSummaryProgress\";\nimport type { GanttApi, Schedule, SaveState } from \"../types\";\n\nexport interface UseGanttScheduleResult {\n  schedule: Schedule | null;\n  isLoading: boolean;\n  saveState: SaveState;\n  hasChanges: boolean;\n  handleSave: () => Promise<void>;\n  initGantt: (api: GanttApi) => void;\n}\n\n/**\n * Gantt Schedule Hook\n * 데이터 로딩, 저장, 이벤트 처리, Summary 진행률 계산을 통합 관리\n */\nexport function useGanttSchedule(): UseGanttScheduleResult {\n  const apiRef = useRef<GanttApi | null>(null);\n\n  // Data Hook\n  const {\n    schedule,\n    isLoading,\n    saveState,\n    hasChanges,\n    handleSave,\n    syncFromApi,\n    markAsChanged,\n  } = useGanttData(apiRef);\n\n  // Summary Progress Hook\n  const { recalcSummaryProgress, recalcAllSummaryTasks } = useSummaryProgress(apiRef);\n\n  // Events Hook\n  const {\n    attachDataListeners,\n    attachSummaryListeners,\n    attachUIListeners,\n  } = useGanttEvents({\n    onDataChange: syncFromApi,\n    onMarkChanged: markAsChanged,\n    recalcSummaryProgress,\n  });\n\n  /**\n   * Gantt API 초기화\n   */\n  const initGantt = useCallback(\n    (api: GanttApi) => {\n      apiRef.current = api;\n\n      // Attach event listeners\n      attachDataListeners(api);\n      attachSummaryListeners(api);\n      attachUIListeners(api);\n\n      // Initial summary calculation\n      recalcAllSummaryTasks();\n      syncFromApi();\n    },\n    [attachDataListeners, attachSummaryListeners, attachUIListeners, recalcAllSummaryTasks, syncFromApi]\n  );\n\n  return {\n    schedule,\n    isLoading,\n    saveState,\n    hasChanges,\n    handleSave,\n    initGantt,\n  };\n}\n\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAED;AACA;AACA;AACA;;;;;;AAgBO,SAAS;;IACd,MAAM,SAAS,IAAA,uKAAM,EAAkB;IAEvC,YAAY;IACZ,MAAM,EACJ,QAAQ,EACR,SAAS,EACT,SAAS,EACT,UAAU,EACV,UAAU,EACV,WAAW,EACX,aAAa,EACd,GAAG,IAAA,+JAAY,EAAC;IAEjB,wBAAwB;IACxB,MAAM,EAAE,qBAAqB,EAAE,qBAAqB,EAAE,GAAG,IAAA,2KAAkB,EAAC;IAE5E,cAAc;IACd,MAAM,EACJ,mBAAmB,EACnB,sBAAsB,EACtB,iBAAiB,EAClB,GAAG,IAAA,mKAAc,EAAC;QACjB,cAAc;QACd,eAAe;QACf;IACF;IAEA;;GAEC,GACD,MAAM,YAAY,IAAA,4KAAW;mDAC3B,CAAC;YACC,OAAO,OAAO,GAAG;YAEjB,yBAAyB;YACzB,oBAAoB;YACpB,uBAAuB;YACvB,kBAAkB;YAElB,8BAA8B;YAC9B;YACA;QACF;kDACA;QAAC;QAAqB;QAAwB;QAAmB;QAAuB;KAAY;IAGtG,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;IACF;AACF;GAvDgB;;QAYV,+JAAY;QAGyC,2KAAkB;QAOvE,mKAAc"}},
    {"offset": {"line": 1212, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/lib/gantt/hooks/index.ts"],"sourcesContent":["/**\n * Gantt Hooks - Public API\n */\n\n// Main orchestrator hook\nexport { useGanttSchedule, type UseGanttScheduleResult } from \"./useGanttSchedule\";\n\n// Individual hooks (for advanced usage)\nexport { useGanttData } from \"./useGanttData\";\nexport { useGanttEvents } from \"./useGanttEvents\";\nexport { useSummaryProgress } from \"./useSummaryProgress\";\n\n"],"names":[],"mappings":"AAAA;;CAEC,GAED,yBAAyB;;AACzB;AAEA,wCAAwC;AACxC;AACA;AACA"}},
    {"offset": {"line": 1232, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/components/gantt/useGanttSchedule.ts"],"sourcesContent":["/**\n * Re-export useGanttSchedule from lib/gantt/hooks\n * This file is kept for backward compatibility\n */\n\nexport { useGanttSchedule } from \"@/lib/gantt/hooks\";\nexport type { UseGanttScheduleResult } from \"@/lib/gantt/hooks\";\n"],"names":[],"mappings":"AAAA;;;CAGC;AAED"}},
    {"offset": {"line": 1245, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/data/koreanHolidays.ts"],"sourcesContent":["/**\n * 한국 공휴일 데이터 (2024-2026)\n * 음력 공휴일은 양력 날짜로 변환하여 포함\n */\n\nexport interface Holiday {\n  date: string; // YYYY-MM-DD 형식\n  name: string;\n}\n\nexport const koreanHolidays2025: Holiday[] = [\n  { date: '2025-01-01', name: '신정' },\n  { date: '2025-01-28', name: '설날 연휴' },\n  { date: '2025-01-29', name: '설날' },\n  { date: '2025-01-30', name: '설날 연휴' },\n  { date: '2025-03-01', name: '삼일절' },\n  { date: '2025-03-03', name: '대체공휴일(삼일절)' },\n  { date: '2025-05-05', name: '어린이날' },\n  { date: '2025-05-06', name: '부처님오신날' },\n  { date: '2025-06-06', name: '현충일' },\n  { date: '2025-08-15', name: '광복절' },\n  { date: '2025-10-05', name: '추석 연휴' },\n  { date: '2025-10-06', name: '추석' },\n  { date: '2025-10-07', name: '추석 연휴' },\n  { date: '2025-10-08', name: '대체공휴일(추석)' },\n  { date: '2025-10-03', name: '개천절' },\n  { date: '2025-10-09', name: '한글날' },\n  { date: '2025-12-25', name: '크리스마스' },\n];\n\nexport const koreanHolidays2026: Holiday[] = [\n  { date: '2026-01-01', name: '신정' },\n  { date: '2026-02-16', name: '설날 연휴' },\n  { date: '2026-02-17', name: '설날' },\n  { date: '2026-02-18', name: '설날 연휴' },\n  { date: '2026-03-01', name: '삼일절' },\n  { date: '2026-05-05', name: '어린이날' },\n  { date: '2026-05-25', name: '부처님오신날' },\n  { date: '2026-06-06', name: '현충일' },\n  { date: '2026-08-15', name: '광복절' },\n  { date: '2026-09-24', name: '추석 연휴' },\n  { date: '2026-09-25', name: '추석' },\n  { date: '2026-09-26', name: '추석 연휴' },\n  { date: '2026-10-03', name: '개천절' },\n  { date: '2026-10-09', name: '한글날' },\n  { date: '2026-12-25', name: '크리스마스' },\n];\n\n// 모든 공휴일을 날짜 문자열 Set으로 변환 (빠른 조회를 위해)\nconst allHolidaysSet = new Set<string>([\n  ...koreanHolidays2025.map(h => h.date),\n  ...koreanHolidays2026.map(h => h.date),\n]);\n\n/**\n * 주말인지 확인 (토요일, 일요일)\n */\nexport function isWeekend(date: Date): boolean {\n  const day = date.getDay();\n  return day === 0 || day === 6; // 0 = 일요일, 6 = 토요일\n}\n\n/**\n * 한국 공휴일인지 확인\n */\nexport function isKoreanHoliday(date: Date): boolean {\n  const dateStr = date.toISOString().split('T')[0];\n  return allHolidaysSet.has(dateStr);\n}\n\n/**\n * 주말 또는 공휴일인지 확인\n */\nexport function isDayOff(date: Date): boolean {\n  return isWeekend(date) || isKoreanHoliday(date);\n}\n\n/**\n * 특정 날짜의 공휴일 이름 가져오기\n */\nexport function getHolidayName(date: Date): string | null {\n  const dateStr = date.toISOString().split('T')[0];\n\n  const allHolidays = [\n    ...koreanHolidays2025,\n    ...koreanHolidays2026,\n  ];\n\n  const holiday = allHolidays.find(h => h.date === dateStr);\n  return holiday ? holiday.name : null;\n}\n\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;;;;;AAOM,MAAM,qBAAgC;IAC3C;QAAE,MAAM;QAAc,MAAM;IAAK;IACjC;QAAE,MAAM;QAAc,MAAM;IAAQ;IACpC;QAAE,MAAM;QAAc,MAAM;IAAK;IACjC;QAAE,MAAM;QAAc,MAAM;IAAQ;IACpC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAa;IACzC;QAAE,MAAM;QAAc,MAAM;IAAO;IACnC;QAAE,MAAM;QAAc,MAAM;IAAS;IACrC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAQ;IACpC;QAAE,MAAM;QAAc,MAAM;IAAK;IACjC;QAAE,MAAM;QAAc,MAAM;IAAQ;IACpC;QAAE,MAAM;QAAc,MAAM;IAAY;IACxC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAQ;CACrC;AAEM,MAAM,qBAAgC;IAC3C;QAAE,MAAM;QAAc,MAAM;IAAK;IACjC;QAAE,MAAM;QAAc,MAAM;IAAQ;IACpC;QAAE,MAAM;QAAc,MAAM;IAAK;IACjC;QAAE,MAAM;QAAc,MAAM;IAAQ;IACpC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAO;IACnC;QAAE,MAAM;QAAc,MAAM;IAAS;IACrC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAQ;IACpC;QAAE,MAAM;QAAc,MAAM;IAAK;IACjC;QAAE,MAAM;QAAc,MAAM;IAAQ;IACpC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAM;IAClC;QAAE,MAAM;QAAc,MAAM;IAAQ;CACrC;AAED,sCAAsC;AACtC,MAAM,iBAAiB,IAAI,IAAY;OAClC,mBAAmB,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI;OAClC,mBAAmB,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI;CACtC;AAKM,SAAS,UAAU,IAAU;IAClC,MAAM,MAAM,KAAK,MAAM;IACvB,OAAO,QAAQ,KAAK,QAAQ,GAAG,mBAAmB;AACpD;AAKO,SAAS,gBAAgB,IAAU;IACxC,MAAM,UAAU,KAAK,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;IAChD,OAAO,eAAe,GAAG,CAAC;AAC5B;AAKO,SAAS,SAAS,IAAU;IACjC,OAAO,UAAU,SAAS,gBAAgB;AAC5C;AAKO,SAAS,eAAe,IAAU;IACvC,MAAM,UAAU,KAAK,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;IAEhD,MAAM,cAAc;WACf;WACA;KACJ;IAED,MAAM,UAAU,YAAY,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;IACjD,OAAO,UAAU,QAAQ,IAAI,GAAG;AAClC"}},
    {"offset": {"line": 1426, "column": 0}, "map": {"version":3,"sources":["file:///Users/1ncarnati0n/Desktop/tsxPJT/SAGanttApp/src/components/GanttChart.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState, useCallback } from \"react\";\nimport {\n  Editor,\n  Gantt,\n  Toolbar,\n  ContextMenu,\n  Tooltip,\n  defaultColumns,\n  defaultToolbarButtons,\n  type IColumnConfig,\n} from \"@svar-ui/react-gantt\";\nimport \"@/styles/svar-gantt-fixed.css\";\n\nimport \"@/styles/gantt.css\"; // Corrected import path for Next.js\n\nimport { GanttControls } from \"./gantt/GanttControls\";\nimport { WillowTheme } from \"./gantt/WillowTheme\";\nimport { editorItems } from \"./gantt/editorItems\";\nimport TaskTooltip from \"./gantt/TaskTooltip\";\nimport { CELL_HEIGHT, CELL_WIDTH_MAP, TASK_TYPES } from \"./gantt/taskConfig\";\nimport { useGanttSchedule } from \"./gantt/useGanttSchedule\";\nimport type { ViewType } from \"./gantt/types\";\nimport { isWeekend, isKoreanHoliday } from \"../data/koreanHolidays\";\n\nconst START_COLUMN_WIDTH = 100;\n\ninterface ScaleConfig {\n  unit: \"year\" | \"month\" | \"week\" | \"day\" | \"hour\";\n  step: number;\n  format: string;\n}\n\nconst TIME_SCALE_CONFIGS: Record<ViewType, { scales: ScaleConfig[] }> = {\n  day: {\n    scales: [\n      { unit: \"year\", step: 1, format: \"yyyy년\" },\n      { unit: \"month\", step: 1, format: \"M월\" },\n      { unit: \"day\", step: 1, format: \"d\" },\n    ],\n  },\n  week: {\n    scales: [\n      { unit: \"year\", step: 1, format: \"yyyy년\" },\n      { unit: \"month\", step: 1, format: \"M월\" },\n      { unit: \"week\", step: 1, format: \"w주\" },\n    ],\n  },\n  month: {\n    scales: [\n      { unit: \"year\", step: 1, format: \"yyyy년\" },\n      { unit: \"month\", step: 1, format: \"M월\" },\n    ],\n  },\n};\n\nconst dateFormatter = new Intl.DateTimeFormat(\"ko-KR\", {\n  year: \"numeric\",\n  month: \"2-digit\",\n  day: \"2-digit\",\n});\n\nconst formatDisplayEnd = (task: Record<string, any>): string => {\n  const exclusiveEnd =\n    task.end instanceof Date ? task.end : task.end ? new Date(task.end as string) : undefined;\n  if (!exclusiveEnd) {\n    return \"\";\n  }\n\n  const inclusive = new Date(exclusiveEnd);\n  inclusive.setDate(inclusive.getDate() - 1);\n\n  const start =\n    task.start instanceof Date ? task.start : task.start ? new Date(task.start as string) : undefined;\n  if (start && inclusive < start) {\n    return dateFormatter.format(start);\n  }\n\n  return dateFormatter.format(inclusive);\n};\n\nexport function GanttChart() {\n  const [viewType, setViewType] = useState<ViewType>(\"day\");\n  const [showBaselines, setShowBaselines] = useState(false);\n  const [ganttApi, setGanttApi] = useState<any | null>(null);\n  const {\n    schedule,\n    isLoading,\n    saveState,\n    hasChanges,\n    handleSave,\n    initGantt } = useGanttSchedule();\n\n  const columns = useMemo<IColumnConfig[]>(() => {\n    return defaultColumns.map((column) => {\n      if (column.id === \"text\") {\n        return { ...column, header: \"단위공정\" };\n      }\n\n      if (column.id === \"start\") {\n        return {\n          ...column,\n          header: \"시작\",\n          width: START_COLUMN_WIDTH,\n          format: \"yyyy-MM-dd\",\n        };\n      }\n\n      if (column.id === \"end\") {\n        return {\n          ...column,\n          header: \"종료\",\n          width: START_COLUMN_WIDTH,\n          format: \"yyyy-MM-dd\",\n          template: (_: unknown, task: Record<string, any>) => formatDisplayEnd(task),\n        };\n      }\n\n      if (column.id === \"duration\") {\n        return {\n          ...column,\n          header: \"D\",\n          width: Math.round(START_COLUMN_WIDTH * 0.45),\n        };\n      }\n\n      return column;\n    });\n  }, []);\n\n  const scales = useMemo(() => TIME_SCALE_CONFIGS[viewType].scales, [viewType]);\n\n  const handleInit = (api: any) => {\n    initGantt(api);\n    setGanttApi(api);\n  };\n\n  // Toolbar 버튼 설정 - 한글화 및 아이콘 커스터마이징\n  const toolbarItems = useMemo(() => {\n    return defaultToolbarButtons.map((button) => {\n      if (button.id === \"add-task\") {\n        return { ...button, text: \"새 작업\", icon: button.icon }; // icon 속성으로 아이콘 지정\n      }\n      if (button.id === \"edit-task\") {\n        return { ...button, Text: \"편집\", icon: button.icon || \"wxi-edit\" }; // 아이콘 변경 가능\n      }\n      if (button.id === \"delete-task\") {\n        return { ...button, menuText: \"삭제\", icon: button.icon || \"wxi-delete\" };\n      }\n      if (button.id === \"move-task:up\") {\n        return { ...button, menuText: \"위로 이동\", icon: button.icon || \"wxi-angle-up\" };\n      }\n      if (button.id === \"move-task:down\") {\n        return { ...button, menuText: \"아래로 이동\", icon: button.icon || \"wxi-angle-down\" };\n      }\n      if (button.id === \"copy-task\") {\n        return { ...button, menuText: \"복사\", icon: button.icon || \"wxi-content-copy\" };\n      }\n      if (button.id === \"cut-task\") {\n        return { ...button, menuText: \"잘라내기\", icon: button.icon || \"wxi-content-cut\" };\n      }\n      if (button.id === \"paste-task\") {\n        return { ...button, menuText: \"붙여넣기\", icon: button.icon || \"wxi-content-paste\" };\n      }\n      if (button.id === \"indent-task:add\") {\n        return { ...button, menuText: \"들여쓰기\", icon: button.icon || \"wxi-indent\" };\n      }\n      if (button.id === \"indent-task:remove\") {\n        return { ...button, menuText: \"내어쓰기\", icon: button.icon || \"wxi-unindent\" };\n      }\n      return button; // 기본 아이콘 유지\n    });\n  }, []);\n\n  // Editor topBar 설정 - 아이콘 커스터마이징\n  const editorTopBar = useMemo(() => {\n    return {\n      items: [\n        { comp: \"button\", text: \"닫기\", id: \"close\" }, // 닫기 아이콘을 다른 것으로 변경하려면 여기 수정\n        { comp: \"spacer\", icon: \"\", id: \"spacer\" },\n        {\n          comp: \"button\",\n          type: \"danger\",\n          text: \"삭제\",\n          id: \"delete\",\n        },\n        {\n          comp: \"button\",\n          type: \"primary\",\n          text: \"저장\",\n          id: \"save\",\n        },\n      ],\n    };\n  }, []);\n\n  // 주말 및 공휴일 하이라이트 함수\n  const highlightTime = useCallback((date: Date, unit: string) => {\n    // day 단위일 때만 주말/공휴일 표시\n    if (unit === \"day\") {\n      if (isKoreanHoliday(date)) {\n        return \"wx-holiday\"; // 공휴일 스타일\n      }\n      if (isWeekend(date)) {\n        return \"wx-weekend\"; // 주말 스타일\n      }\n    }\n    return \"\";\n  }, []);\n\n  return (\n    <section className=\"flex flex-col h-full\">\n      <GanttControls\n        viewType={viewType}\n        onViewTypeChange={setViewType}\n        showBaselines={showBaselines}\n        onToggleBaselines={() => setShowBaselines((prev) => !prev)}\n        onSave={() => { void handleSave(); }}\n        hasChanges={hasChanges}\n        saveState={saveState}\n      />\n\n      {ganttApi && <Toolbar api={ganttApi} items={toolbarItems} />}\n\n      <div className=\"gantt-wrapper flex-1 relative\" role=\"group\" aria-label=\"프로젝트 간트 차트\">\n        {isLoading ? (\n          <div className=\"absolute inset-0 flex items-center justify-center bg-white bg-opacity-80 z-50\">\n            데이터를 불러오는 중...\n          </div>\n        ) : schedule ? (\n          <>\n            <ContextMenu api={ganttApi}>\n              <WillowTheme>\n                <Tooltip api={ganttApi ?? undefined} content={TaskTooltip}>\n                  <Gantt\n                    init={handleInit}\n                    tasks={schedule.tasks}\n                    links={schedule.links}\n                    scales={scales}\n                    columns={columns}\n                    taskTypes={TASK_TYPES}\n                    cellWidth={CELL_WIDTH_MAP[viewType]}\n                    cellHeight={CELL_HEIGHT}\n                    highlightTime={highlightTime}\n                    {...({ baselines: showBaselines } as any)}\n                  />\n                </Tooltip>\n              </WillowTheme>\n            </ContextMenu>\n            {ganttApi && (\n              <Editor\n                api={ganttApi}\n                items={editorItems}\n                topBar={editorTopBar}\n              />\n            )}\n          </>\n        ) : (\n          <div className=\"p-4 text-red-500\">\n            데이터를 불러오지 못했습니다.\n          </div>\n        )}\n      </div>\n    </section>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}